<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 4.1.6.2 (Linux)">
	<META NAME="CREATED" CONTENT="20210526;110500000000000">
	<META NAME="CHANGEDBY" CONTENT="den">
	<META NAME="CHANGED" CONTENT="20210526;110600000000000">
	<META NAME="AppVersion" CONTENT="12.0000">
	<META NAME="DocSecurity" CONTENT="0">
	<META NAME="HyperlinksChanged" CONTENT="false">
	<META NAME="LinksUpToDate" CONTENT="false">
	<META NAME="ScaleCrop" CONTENT="false">
	<META NAME="ShareDoc" CONTENT="false">
	<STYLE TYPE="text/css">
	<!--
		@page { margin-left: 0.79in; margin-right: 0.79in; margin-top: 0.49in; margin-bottom: 0.59in }
		P { margin-bottom: 0.08in; direction: ltr; widows: 2; orphans: 2 }
		P.western { font-size: 12pt; so-language: en-US }
		P.cjk { font-size: 12pt; so-language: en-US }
		P.ctl { font-size: 12pt }
		A:link { so-language: zxx }
		A.0:link { so-language: zxx }
	-->
	</STYLE>
</HEAD>
<BODY LANG="ru-RU" DIR="LTR">
<DIV TYPE=HEADER>
	<P LANG="en-US" CLASS="western" STYLE="margin-bottom: 0.26in"><BR>
	</P>
</DIV>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Стандарты
разработки </B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="pt-PT"><B>Java
</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>для
</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>outsource</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>
проектов</B></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Технологические
требования к приложению:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Java
11</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Spring
Boot 2.2.+ (Core, Data, Messaging), Lombock, Mapstruct, Apache
Commons.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для<SPAN LANG="en-US">
</SPAN>тестирования<SPAN LANG="en-US"> Spring Boot Test,
JUnit 5, Mockito, TestContainers, WireMock.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Логирование
через slf4j и <SPAN LANG="en-US">logback</SPAN>, возможность
настройки по отправке логов в <SPAN LANG="pt-PT">stdout,
TCP socket. </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
интеграции с <SPAN LANG="en-US">REST</SPAN> сервисами
необходимо использовать
<SPAN LANG="de-DE">Feign/RestTemplate/WebClient. </SPAN>Для
интеграции с SOAP сервисами необходимо
использовать <SPAN LANG="it-IT">Apache CXF.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Мониторинг
через <SPAN LANG="it-IT">Spring Boot Actuator+Micrometer </SPAN>для
последующий отправки в <SPAN LANG="en-US">Prometheus</SPAN>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Система
сборки Gradle.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
параметризации приложений использовать
<SPAN LANG="en-US">Spring</SPAN> <SPAN LANG="en-US">Boot</SPAN>
<SPAN LANG="en-US">Config</SPAN> <SPAN LANG="en-US">Server</SPAN> +
<SPAN LANG="en-US">Environment</SPAN> <SPAN LANG="en-US">Variables</SPAN>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Нетехнологические
требования к приложению:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Использование
микросервисной архитектуры, там где
это уместо.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Использование
RESTful API для реализации синхронных
взаимодействий.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Обязательное
наличие документации на все &quot;исполняемые&quot;
методы (отдельные методы API, listener очередей,
<SPAN LANG="en-US">scheduled</SPAN> методы)</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Обязательное
покрытие тестами всех &quot;исполняемых&quot;
методов (отдельные методы API, listener
очередей, <SPAN LANG="en-US">scheduled</SPAN> методы).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Необходимо
логировать все запросы и ответы от
клиентов к <SPAN LANG="en-US">API</SPAN> приложения
и все запросы и ответы от приложения к
внешним сервисам.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Требования
по инфраструктуре:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
хранения данных: <SPAN LANG="en-US">Oracle</SPAN>
(<SPAN LANG="en-US">Postgresql</SPAN>), <SPAN LANG="en-US">MongoDB</SPAN>,
<SPAN LANG="en-US">Elasticsearch</SPAN>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
очередей: Kafka.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
кеширования: Hazelcast или <SPAN LANG="de-DE">Caffeine.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
качестве конечного артефакта использовать
<SPAN LANG="sv-SE">docker </SPAN>контейнеры. Для
развертывания всего проекта необходимо
предоставить <SPAN LANG="en-US">docker</SPAN>-<SPAN LANG="en-US">compose</SPAN>
файл.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Статический</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>
</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>анализ</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>
</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>кода</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>
</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>Java</B></SPAN></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Стат.
анализ в <SPAN LANG="pt-PT">Java </SPAN>сейчас
реализуется плагином
<SPAN LANG="en-US">http</SPAN>://<SPAN LANG="en-US">git</SPAN>.<SPAN LANG="en-US">moscow</SPAN>.<SPAN LANG="en-US">alfaintra</SPAN>.<SPAN LANG="en-US">net</SPAN>/<SPAN LANG="en-US">projects</SPAN>/<SPAN LANG="en-US">TEC</SPAN>/<SPAN LANG="en-US">repos</SPAN>/<SPAN LANG="en-US">application</SPAN>-<SPAN LANG="en-US">configure</SPAN>-<SPAN LANG="en-US">gradle</SPAN>-<SPAN LANG="en-US">plugins</SPAN>/,
там подключены следующие анализаторы:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">CodestyleAutoformat
-
http://git.moscow.alfaintra.net/projects/TEC/repos/codestyle-autoformat-gradle-plugin/</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">SonarQube
- https://plugins.gradle.org/plugin/org.sonarqube</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Quality</SPAN>
-
<SPAN LANG="en-US">http</SPAN>://<SPAN LANG="en-US">git</SPAN>.<SPAN LANG="en-US">moscow</SPAN>.<SPAN LANG="en-US">alfaintra</SPAN>.<SPAN LANG="en-US">net</SPAN>/<SPAN LANG="en-US">projects</SPAN>/<SPAN LANG="en-US">AMML</SPAN>/<SPAN LANG="en-US">repos</SPAN>/<SPAN LANG="en-US">quality</SPAN>-<SPAN LANG="en-US">gradle</SPAN>-<SPAN LANG="en-US">plugin</SPAN>/,
включает в себя:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">-
CheckStyle - https://checkstyle.sourceforge.io/</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">-
Pmd - https://pmd.github.io/</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">-
SpotBugs - https://spotbugs.github.io/</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">-
Codenarc - http://codenarc.sourceforge.net/</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>Code</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>-</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>review</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>
</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>Java</B></SPAN></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Общие
соглашения:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Все
изменения в код вливаются через PR</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Мы
стремимся делать <SPAN LANG="de-DE">PR </SPAN>минимального
размера</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">На
сервисы, которые переиспользуются в
других проектах или являются общими,
назначены дефолтные ревьюеры, их аппрув
обязателен</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">При
мерже мы удаляем ветки в гите</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Используем
инструменты Статический анализ кода
<SPAN LANG="en-US">Java</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">НИБ/АБМ:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Требования
к сервисам НИБ/АБМ</B></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
оформления <SPAN LANG="it-IT">pull-request'</SPAN>ов и
проведения <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
и процесс <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN>
- два неразрывно связанных друг с другом
понятия. В этой статье я постараюсь
ответить на несколько вопросов:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">какие
основные цели проведения код-ревью: с
позиции разработчика и с позиции
ревьюера.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">как
оформить свой <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>,
так чтобы процесс <SPAN LANG="en-US">code</SPAN>
<SPAN LANG="en-US">review</SPAN> был максимально
продуктивен для обеих сторон.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">как
проводить <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN>,
чтобы у разработчика не сложилось
впечатление, что <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN>
- это неизбежное зло.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Цели<SPAN LANG="en-US">
pull-request </SPAN>и<SPAN LANG="en-US"> code review</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Давайте
сначала попробуем понять для чего нам
нужен этот процесс:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Получение
обратной связи. Обратить внимание на
ошибки, которые были не замечены в
процессе разработки, дать идеи для
рефакторинга.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Улучшение
понимания проекта. Отточить свои навыки
в чтении чужого кода и понять бизнес-процессы
другого проекта, что в свою очередь
позволит меньше тратить времени на
последующие code review.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Снижение
рисков ошибок в проекте.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Поддержка
согласованности кода проекта. Отследить
выполнение стандартов проекта, требования
по безопасности (все ли пароли зашифрованы
и т. п.).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Развитие
инженерной культуры. Научиться эффективно
проводить code review.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Обучение
и передача опыта. Путём взаимодействия
через <SPAN LANG="it-IT">pull-request'</SPAN>ы происходит
обучение начинающих разработчиков
более опытными. Исправляя свои ошибки,
мы учимся.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
создания и оформления <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Всё
начинается с правильно оформленного
<SPAN LANG="it-IT">pull-request. </SPAN>Давайте рассмотрим
несколько рекомендаций, которые упростят
ревьюерам процесс проведения <SPAN LANG="en-US">code</SPAN>
<SPAN LANG="en-US">review</SPAN>, а значит и ускорят
его.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Атомарность
<SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
должен делать только то, что непосредственно
описано в задаче или затрагивается во
время реализации. Все изменения, которые
попадают в <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
должны относиться строго к поставленной
задаче. Если в процессе написания кода
вы замечаете, что неплохо было бы
отрефакторить часть кода или обнаруживаете
баг или потенциально опасный код, то
такие изменения не стоит включать в
данный <SPAN LANG="it-IT">pull-request. </SPAN>Заведите
задачу в jira и создайте отдельный
<SPAN LANG="it-IT">pull-request.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
не должен превышать 300-400 строчек кода.
Большие <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
долго и тяжело просматривать. Как
правило, такие <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
просматриваются по диагонали и не
достигают поставленных выше целей.
Практика показывает, что быстрее и
качественнее проходит <SPAN LANG="en-US">code</SPAN>
<SPAN LANG="en-US">review</SPAN> трёх <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
по 400 строк кода, чем одного <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
на 1200 строк кода, при условии, что <SPAN LANG="en-US">review</SPAN>
выполняется тщательно в обоих случаях.
Если вам предстоит большая задача, то
помимо основной ветки <SPAN LANG="en-US">branch</SPAN>
от <SPAN LANG="en-US">master</SPAN>, создайте несколько
<SPAN LANG="it-IT">pull-request'</SPAN>ов в саму ветку
branch.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Обязательная
проверка кода перед тем, как создать
<SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Просматривайте
<SPAN LANG="fr-FR">git diff </SPAN>перед <SPAN LANG="it-IT">commit.
</SPAN>Перед тем, как закоммитить изменения
обязательно просматривайте <SPAN LANG="fr-FR">git
diff. </SPAN>Стоит проверить не оставили ли
вы где-либо debug-строки, TODO-комментарии,
соответствует ли ваш код правилам
оформления (комментарии, пробелы и пр.
- этот процесс лучше автоматизировать,
но у нас этого пока нет). Задайте себе
вопрос очевиднали логика, которую вы
описали, может требуется дополнительный
комментарий.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Запустите
тесты и убедитесь, что они проходят.
Обязательно проверяйте проходят ли все
тесты. Часто бывает так, что мы отправляем
код на <SPAN LANG="en-US">review</SPAN>, не проверив
работоспособность тестов. В итоге
ревьюер видит поломавшийся <SPAN LANG="en-US">build</SPAN>,
откладывает ревью и ждёт исправления,
что порой сильно замедляет процесс.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Название
должно быть кратким и точным</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
<SPAN LANG="en-US">Bitbucket</SPAN> по-умолчанию в поле
<SPAN LANG="en-US">Title</SPAN> подставляется название
ветки, которую вы хотите слить. Так как
поле <SPAN LANG="en-US">Title</SPAN> - это единственная
информация, которая отображается в
кратком списке <SPAN LANG="it-IT">pull-request'</SPAN>ов,
то именно, исходя из краткого названия
вашего <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>,
ревьюеры решают будут ли они его смотреть
и когда.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Название
должно быть кратким, но достаточно
выразительным, чтобы ревьюер мог понять,
что ему ожидать. Рассмотрим в качестве
примера <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>,
реализующий новое бизнес-требование
по вычислению налога для нерезидентов
РФ. Название Изменение правила вычисления
налога для нерезидентов РФ точное.
Изменение правила вычисления налога
для нерезидентов РФ, согласно указу ЦБ
от 20.02.2020 ещё точнее, с указанием контекста.
Однако, названия для <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
по типу: Добавление новых параметров
для вычисления налога или Изменение
логики вычисления налогов слишком общие
и не подходят для <SPAN LANG="it-IT">pull-request. </SPAN>На
другой стороне спектра названия,
перегруженные конкретикой, например
Изменение в классе <SPAN LANG="en-US">TaxInternals</SPAN>
и <SPAN LANG="en-US">CalculateEffectiveRate</SPAN>, согласно
изменениям в указ ЦБ № 20444 от 20.02.2020.
Понимание, что такое слишком много
деталей или наоборот слишком мало,
зависит от того, на кого рассчитан этот
<SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>, но
всё же в названиях следует придерживаться
золотой середины.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Описание
должно отвечать на вопрос &quot;зачем?&quot;</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">По-умолчанию
в <SPAN LANG="en-US">Bitbucket</SPAN> поле <SPAN LANG="fr-FR">Description
</SPAN>заполняется логом git-коммитов,
вошедших в <SPAN LANG="it-IT">pull-request. </SPAN>Эта
информация не несёт в себе никакой
ценности для ревьюеров и лучше заполнить
<SPAN LANG="fr-FR">Description </SPAN>следующими данными:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Дать
ссылку на задачу в <SPAN LANG="pt-PT">Jira. </SPAN>При
этом сама задача в <SPAN LANG="pt-PT">Jira </SPAN>должна
быть правильно оформлена и давать
представления о том, что послужило
поводом для внесения изменений.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Опишите
выбранный вами способ реализации. Кратко
укажите детали реализации: какие шаблоны
проектирования вы использовали, какие
в коде есть сложные места, что не удалось
сделать, как хотелось изначально и
почему. Если в процессе выполнения
задачи был выполнен рефакторинг, то
опишите обоснование и цели рефакторинга.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
проведения <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Цели
<SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">дать
обратную связь (в том числе и положительную)</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">помочь
сделать код понятней и проще</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">помочь
избежать ошибок</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Беремся
за <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN>,
как можно раньше. Если нет возможности
взяться за ревью прямо сейчас, поставьте
автора в известность, когда вы сможете
посмотреть его <SPAN LANG="it-IT">pull-request. </SPAN>В
идеале один раунд <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
не должен занимать более двух часов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Многораундовость</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сложные
<SPAN LANG="it-IT">pull-request'</SPAN>ы разбивай на
несколько раундов code review. Не нужно
пытаться провести <SPAN LANG="en-US">review</SPAN>
большого <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
за один раз, лучше поделить его на
несколько раундов. В первом раунде стоит
рассмотреть архитектурные вопросы, во
втором детали реализации, в третьем
стили кодирования. Раунды должны
выстраиваться по принципу от общего к
частному или от высокоуровневых вопросов
к низкоуровневым.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
<SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
содержит не связанные друг с другом
части, попроси разделить его на несколько
<SPAN LANG="it-IT">pull-request'</SPAN>ов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Количество
раундов ревью должно в идеале не превышать
трёх. Большое количество раундов ревью
будет затягивать процесс принятия
<SPAN LANG="it-IT">pull-request.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Процесс
<SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Вначале
читаем описание к <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>,
знакомимся со всеми приложенными
документами, комментариями. Переходим
и смотрим связанную задачу в <SPAN LANG="pt-PT">Jira.
</SPAN>Думаем над тем, как бы эту задачу
реализовали вы.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Далее
проходим по трём шагам. Если все три
шага удаётся сделать за один раунд <SPAN LANG="en-US">code</SPAN>
<SPAN LANG="en-US">review</SPAN> отлично, если нет, то
откладываем те шаги, которые вызывают
затруднения на следующий раунд.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">1.
Проверка выполнения задачи, общая
архитектура</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверяем,
что код решает поставленную задачу в
полном объёме. Возможно есть какие-то
<SPAN LANG="en-US">corner</SPAN> <SPAN LANG="en-US">cases</SPAN>,
которые не рассмотрел автор. Смотрим
на тесты, контроллеры. Если что-то
непонятно, то лучше запустить код,
прогнать тесты на своей машине.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Смотрим
на принятые архитектурные решения. Не
является ли это решение слишком сложным,
есть ли более простые решения. Обратите
внимание автора на это, приведите пример
реализации или дайте ссылку на неё.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверяем
взаимодействие отдельных частей
приложения, микросервисов. Является ли
данное взаимодействие оптимальным?
Если есть реализации, которые уже
реализованы в проекте или других
микросервисах, стоит указать автору на
это.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Здесь
же смотрим на соответствие документации
коду, если какой-то момент не
задокументирован, стоит упомянуть об
этом.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.
Проверка реализации</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Смотрим
внимательнее на реализацию. Использует
ли автор общие для проектов стэка
библиотеки. Ищем код, который можно
написать проще. Смотрим за тем, чтобы
логика располагалась в предназначенных
для неё местах (например, работа с базой
данных располагалась внутри репозитория).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
какая-то ошибка повторяется в коде
больше одного раза, не пишем кучу
однотипных комментариев, создаем общий
комментарий вне кода и указываем ссылку
на него из мест, где присутствует ошибка</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">3.
Проверка стиля</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Просматриваем
код построчно на выявление неудачных
названий, стилистических ошибок.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Данная
часть не должна занимать много времени
и должна быть по максимуму автоматизирована.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Так
как читаемость кода - дело субъективное
не переусердствуйте на данном этапе.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
<SPAN LANG="it-IT">IntelliJ Idea </SPAN>можно установить
<SPAN LANG="fr-FR">SonarQube plugin </SPAN>и настроить его
на <SPAN LANG="en-US">http</SPAN>://<SPAN LANG="en-US">corpint</SPAN>3/<SPAN LANG="en-US">gulag</SPAN>.
Тогда уже в процессе написания кода
можно будет запускать <SPAN LANG="en-US">Analyze</SPAN>
-&gt; <SPAN LANG="en-US">Inspect</SPAN> <SPAN LANG="en-US">code</SPAN>...
и получать отчёты об ошибках, найденных
sonar.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Несколько
советов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Выносите
серьёзные ошибки, требующие исправления
в виде <SPAN LANG="it-IT">task. </SPAN>Если вы заметили
серьёзную ошибку, создайте <SPAN LANG="en-US">task</SPAN>
в комментарии.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Используйте
<SPAN LANG="en-US">Needs</SPAN> <SPAN LANG="en-US">Work</SPAN>. Если
нашли ошибки, сообщите об этом автору,
при помощи кнопки <SPAN LANG="en-US">Needs</SPAN>
<SPAN LANG="en-US">Work</SPAN>, не думайте, что автор
с наскоку увидит все ваши комментарии.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
ошибки не существенны или основные
ошибки поправлены, не задерживайте
<SPAN LANG="it-IT">pull-request. </SPAN>Не стоит держать
<SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN> до
тех пор, пока автор не поправит все
обнаруженные ошибки. Доверяйте коллегам,
они в состоянии внести минорные изменения
самостоятельно.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Обозначения
в комментариях <SPAN LANG="en-US">code</SPAN> <SPAN LANG="en-US">review</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">WIP</SPAN>
(<SPAN LANG="en-US">Work</SPAN> <SPAN LANG="en-US">in</SPAN>
<SPAN LANG="en-US">progress</SPAN>). Если вы добавляете
коммиты в <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>,
но при этом работа над ним ещё не
закончена, стоит каким-то образом
известить об этом ревьюеров. Один из
способов сделать это - указать перед
названием <SPAN LANG="it-IT">pull-request'</SPAN>а тег
[WIP].</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">nit</SPAN>
(<SPAN LANG="en-US">nitpicking</SPAN>). Любые несущественные
замечания в комментариях к <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
стоит отмечать при помощи тега nit,
предшествующего комментарию.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Настройки
<SPAN LANG="en-US">Merge</SPAN> <SPAN LANG="en-US">Checks</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Исходя
из всего вышесказанного, вы можете
настроить <SPAN LANG="en-US">Bitbucket</SPAN> <SPAN LANG="en-US">Merge</SPAN>
<SPAN LANG="en-US">Checks</SPAN>, так чтобы они не
пропускали плохой код в <SPAN LANG="fr-FR">production.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">All</SPAN>
<SPAN LANG="en-US">reviewers</SPAN> <SPAN LANG="en-US">approve</SPAN>
- <SPAN LANG="en-US">Disabled</SPAN>. Не имеет никакого
смысла ждать принятия <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
всеми ревьюерами, можно и не дождаться.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Minimum
approvals - Enabled. Number of approvals &gt;= 1. </SPAN>Задаём
минимальное число принятий <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>
больше или равно одному. Это<SPAN LANG="en-US">
</SPAN>не<SPAN LANG="en-US"> </SPAN>пропустит<SPAN LANG="en-US">
</SPAN>непросмотренные<SPAN LANG="en-US">
</SPAN><SPAN LANG="it-IT">pull-request'</SPAN>ы<SPAN LANG="en-US">.</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Minimum
successful builds - Enabled. Number</SPAN> <SPAN LANG="en-US">of</SPAN>
<SPAN LANG="en-US">builds</SPAN> &gt;= 1. Проект должен
успешно собираться, будет очень здорово,
если за этим будет следить Bitbucket.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">No
'Needs work' status - Enabled. </SPAN>Если мы договариваемся,
в случае критичных ошибок, выставлять
статус <SPAN LANG="nl-NL">'Needs work', </SPAN>то такие
<SPAN LANG="it-IT">pull-request'</SPAN>ы не должны быть
смерджены.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">No
incomplete tasks - Enabled. </SPAN>Та<SPAN LANG="en-US"> </SPAN>же<SPAN LANG="en-US">
</SPAN>самая<SPAN LANG="en-US"> </SPAN>история<SPAN LANG="en-US">
</SPAN>с<SPAN LANG="en-US"> tasks. </SPAN>Если мы заводим
<SPAN LANG="en-US">tasks</SPAN> на критичные замечания,
то <SPAN LANG="en-US">BitBucket</SPAN> будет препятствовать
слиянию таких <SPAN LANG="en-US">pull</SPAN>-<SPAN LANG="en-US">request</SPAN>’ов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Соглашения
по построению API</B></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Порты
для распределённого кэша</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Название
проекта	порты	Mode</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="pt-PT">corp-list	30001-30020	TCP</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Переиспользование
сервисов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">На
текущий момент есть деление на корневые
и проектные сервисы - корневые используются
в нескольких проектах, проектные
используются только в соответствующим
им проектам.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">По
факту корневых сервисов оказалось
слишком много, а проектных сервисов
оказалось слишком мало, поэтому
предлагается уходить в сторону общего
списка сервисов, переиспользумых всеми
желающими.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Концепция
корневых переиспользуемых сервисов:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">один
исходник</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">с
одной основной веткой</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">без
форков.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Отдельных
постоянных веток для отдельных проектов
нет - только мастер, в который вливаются
доработки. Из этого мастера собирается
образ (версионированный, на одну версию
всегда один образ, для всех проектов
общий).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
команде нужен этот сервис для проекта,
то в скриптах проекта раскатывается
этот образ со своими настройками,
отдельным независимым контейнером.
Таким образом все, кто используют данный
сервис, катают у себя отдельный экземпляр.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Когда
кто-то обновляет мастер - обновляется
(собирает и раскатывает для себя) только
тот проект, которому это было нужно
(который делал пул реквест в мастер),
остальные проекты живут на старой
версии.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Когда
остальным проектам надо подтянуться
или доработать сервис для себя -
подтягивают себе все доработки
(раскатывают у себя образ крайней
версии).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Пример
корневого сервиса</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Исходник
profiles-api.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Развернутые
сервисы:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">http</SPAN>://<SPAN LANG="en-US">corpmesosint</SPAN>1/<SPAN LANG="en-US">marathon</SPAN>/<SPAN LANG="en-US">ui</SPAN>/#/<SPAN LANG="en-US">apps</SPAN>/%2<SPAN LANG="en-US">Fcorp</SPAN>-<SPAN LANG="en-US">list</SPAN>%2<SPAN LANG="en-US">Fmiddle</SPAN>%2<SPAN LANG="en-US">Fprofiles</SPAN>-<SPAN LANG="en-US">api</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">http</SPAN>://<SPAN LANG="en-US">corpmesosint</SPAN>1/<SPAN LANG="en-US">marathon</SPAN>/<SPAN LANG="en-US">ui</SPAN>/#/<SPAN LANG="en-US">apps</SPAN>/%2<SPAN LANG="en-US">Fcorp</SPAN>-<SPAN LANG="en-US">dash</SPAN>%2<SPAN LANG="en-US">Fmiddle</SPAN>%2<SPAN LANG="en-US">Fprofiles</SPAN>-<SPAN LANG="en-US">api</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">http</SPAN>://<SPAN LANG="en-US">corpmesosint</SPAN>1/<SPAN LANG="en-US">marathon</SPAN>/<SPAN LANG="en-US">ui</SPAN>/#/<SPAN LANG="en-US">apps</SPAN>/%2<SPAN LANG="en-US">Fcorp</SPAN>-<SPAN LANG="en-US">depo</SPAN>%2<SPAN LANG="en-US">Fmiddle</SPAN>%2<SPAN LANG="en-US">Fprofiles</SPAN>-<SPAN LANG="en-US">api</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
разделения настроек и самих сервисов
используется такое свойство как
<SPAN LANG="en-US">PROJECT</SPAN>_<SPAN LANG="en-US">KEY</SPAN>:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">настраивается
в скриптах раскатки,</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">используется
как часть наименования сервиса в
марафоне,</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">используется
как префикс/папка настроек в консуле
или конфиг-сервере,</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">используется
как префикс пути, по которому сервис
будет доступен через балансировщик
(nginx/haproxy).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Это
позволяет настраивать и использовать
каждый экземпяр этого сервиса по
отдельности.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Пример<SPAN LANG="en-US">
PROJECT_KEY -
http://git/projects/CORP-DEPO/repos/corp-depo-ansible/browse/group_vars/all/main.yml.</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Доменная
модель</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">На
текущий момент сервисы проектируются
таким образом, чтобы предоставить набор
неких атомарных операций, которые
позволят собрать любую необходимую
сложную операцию как композицию этих
простых операций.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">По
факту, это <SPAN LANG="en-US">CRUD</SPAN> доступ к
некоторым ресурсам/предметным сущностям
(счета, карты, компании и т.д.).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Кроме
соглашения на <SPAN LANG="en-US">CRUD</SPAN> по
ресурсу, есть также ряд некоторых
соглашений:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сервис,
предоставляющий доступ к ресурсу/предметной
сущности, должен предоставлять не больше
одного метода для получения информации
об одном экземпляре данного ресурса и
не больше одного метода для получения
списка экземпляров ресурса. То есть не
должно быть метода получения отдельного
атрибута сущности. Для примера:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">не
должно быть отдельного метода получения
данных о базовой информации по счету</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">не
должно быть отдельного метода получения
информации кто владелец счета</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">не
должно быть отдельного метода получения
баланса счета</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">не
должно быть отдельного метода получения
сведений что за банк контролирует этот
счет</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">должен
быть один метод для получения ВСЕЙ
доступной информации). Для облегчения
работы сервиса в качестве параметра
вызова он может принимать <SPAN LANG="fr-FR">Projection
- </SPAN>некий обьект, рассказывающий, какие
именно поля нужно вернуть.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сервис,
работающий с определенной предметной
сущностью, не должен возвращать несколько
предметных сущностей, даже если они
связаны. То есть если нужны данные счета
и данные его владельца, то сервис по
счетам должен вернуть только данные
счета и не должен возвращать данные
владельца. В данных счета можно указать
привязку к владельцу( в виде id ), чтобы
потребитель сервиса мог сходить к
соответсвующему сервису по выданному
id.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Тестирование</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Тесты
должны быть документацией на сервис</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
я хочу узнать, как мне сервис ответит
на мой запрос (к примеру, в каком формате
вернет счета, если я кину код клиента),
я иду в тесты и смотрю на тест этой
истории (тест истории &quot;По коду клиента
вернуть список счетов&quot;).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Этот
же подход позволит проще генеририть
более читабельную документацию, потому
что истории будут <SPAN LANG="en-US">user</SPAN>
<SPAN LANG="en-US">friendly</SPAN> - я хочу проверить
права на создание платежки, поэтому я
кидаю запрос с правом <SPAN LANG="en-US">CREATE</SPAN>_<SPAN LANG="en-US">PAYMENT</SPAN>
и только <SPAN LANG="en-US">CREATE</SPAN>_<SPAN LANG="en-US">PAYMENT</SPAN>,
получаю соответствующий ответ, в
зависимости от условий.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
вместо этого предлагается идти в историю
вида &quot;<SPAN LANG="en-US">should</SPAN> <SPAN LANG="en-US">call</SPAN>
<SPAN LANG="en-US">services</SPAN> <SPAN LANG="en-US">with</SPAN>
<SPAN LANG="en-US">correct</SPAN> <SPAN LANG="en-US">parameters</SPAN>&quot;,
которых обычно немало и которая по
названию никак не мапится с задачей
проверить <SPAN LANG="en-US">CREATE</SPAN>_<SPAN LANG="en-US">PAYMENT</SPAN>,
и искать в этой истории, кидается ли код
<SPAN LANG="en-US">CREATE</SPAN>_<SPAN LANG="en-US">PAYMENT</SPAN>, и
какой же из ответов ему соответствует,
то это вызовет путаницу и трату времени
на поиск и понимание, а также сгенерирует
неудобную документацию.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Конечная
цель этих тестов - гарантировать что
сервис выполняет целевой набор
бизнес-историй.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">BDD</SPAN>
тесты должны описывать свое поведение
с точки зрения потребителя, который о
внутренностях сервиса ничего не знает,
он не идет с вопросом &quot;А какие проверки
будут фейлиться, если у меня нет доступа
к счетам?&quot;. Потребитель идет с вопросом
&quot;В каких случаях у меня будет фейлиться
проверка на CREATE_PAYMENT?&quot;.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить
<SPAN LANG="en-US">CREATE</SPAN>_<SPAN LANG="en-US">PAYMENT</SPAN> и
вернуть <SPAN LANG="en-US">OK</SPAN>, если есть доступ
и не заблочен юзер - это нормальная
бизнес-история, которая несет пользу.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Как
антипример, &quot;<SPAN LANG="en-US">should</SPAN> <SPAN LANG="en-US">call</SPAN>
<SPAN LANG="en-US">services</SPAN> <SPAN LANG="en-US">with</SPAN>
<SPAN LANG="en-US">correct</SPAN> <SPAN LANG="en-US">parameters</SPAN>&quot;
- это вобще не бизнес-история, в которой
мы не гарантируем ничего. Ну вызвали мы
сервис с правильным параметрами, ответ-то
сервиса правильный с точки зрения
бизнеса? нужный ли? если нужный, то для
чего?</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Как
пример, есть два вызова получения списка
депозитных предложений, которые
отличаются только кодом в запросе, и
это тем не менее две нормальные истории:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">should
return deposits list</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">should
return nso list</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Достаточно
крутой тулинг для тестов как доки
прикрутили АМ <SPAN LANG="it-IT">-
NonFinancialControllerNewSpec.groovy.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Про
этот тулинг и почему документировать
надо тестами - запись вебинара от чувака,
который лидит разработку половины того,
что мы используем -
<SPAN LANG="en-US">https</SPAN>://<SPAN LANG="en-US">www</SPAN>.<SPAN LANG="en-US">youtube</SPAN>.<SPAN LANG="en-US">com</SPAN>/<SPAN LANG="en-US">watch</SPAN>?<SPAN LANG="en-US">v</SPAN>=<SPAN LANG="en-US">knH</SPAN>5<SPAN LANG="en-US">ihPNiUs</SPAN>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Подробный
и детальный туториал -
<A HREF="https://www.tothepoint.company/blog/spring-rest-doc/"><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">https</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>://</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">www</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>.</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">tothepoint</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>.</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">company</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>/</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">blog</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>/</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">spring</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>-</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">rest</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>-</U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U><SPAN LANG="en-US">doc</SPAN></U></SPAN></FONT><FONT COLOR="#000080"><SPAN LANG="zxx"><U>/</U></SPAN></FONT></A>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Правило
80/20</B></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">20%
времени <SPAN LANG="en-US">DevTeam</SPAN> остается на:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">технические
задачи от ЦК</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">анализ
и исправление инцидентов на <SPAN LANG="fr-FR">production,
</SPAN>которые не относятся к конкретной
команде</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">исправление
критичных дефектов, которые не относятся
к конкретной команде</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">другие
непредвиденные отвлечения от разработки
новых задач</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">все
это в сумме должно укладываться в 20%.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">При
планировании продуктового спринта, в
него добавляются задачи ЦК самим
разработчиком, либо командой. Задачи
от ЦК с целью обеспечения их учета и
прозрачности добавляются на <SPAN LANG="pt-PT">Jira
</SPAN>доску команды.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Подход
привлечения сотрудника <SPAN LANG="en-US">DevTeam</SPAN>
к техническим задачам остается гибким,
исключительные случае решаем индивидуально.
От внедрения практики обязательного
еженедельного отвлечения сотрудников
из команды отказываемся.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Исправление
критичных дефектов, которые не относятся
к конкретной команде - если время
исправления дефекта укладывается в 1
день. Если исправление дефекта требует
больше 1 дняm, то кейс выносится на
обсуждение с бизнесом.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Договоренности
для НИБ - 80/20.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Презентация,
правда от ЦК Мобильной разработки, но
ее можно использовать для демонстрации
эффекта бизнесу.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Общие
правила код-ревью для проектов
</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>java</B></SPAN></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><B>-</B></FONT><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="en-US"><B>cucumber</B></SPAN></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Процесс
код-ревью</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
в команде автоматизации тестирования
на проекте более 1 человека, необходимо
организовать процесс код-ревью.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
зависимости от кол-ва людей можно выбрать
следующие схемы:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сотрудники
проверяют друг друга. В ревью участвует
1 человек (подходит, если на проекте 2-3
автотестировщика).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сотрудники
проверяют друг друга + второе ревью
проводит тим лид команды. В ревью
участвует 2 человека (подходит, если на
проекте 3 и более автотестировщиков).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2
сотрудника делают ревью. После исправления
всех замечаний тим лид проводит
окончательное ревью. В ревью участвует
3 человека (подходит, если на проекте 4
и более автотестировщиков).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
для разработчиков</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
написания автотестов и оформление
<SPAN LANG="en-US">feature</SPAN>-файлов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Делать
сценарии независимыми друг от друга в
рамках одного <SPAN LANG="en-US">feature</SPAN>-файла.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Чтобы
исключить ситуацию, когда падает один
сценарий и из-за этого все последующие.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Разбивать
тесты с большим кол-вом сценариев на
несколько <SPAN LANG="en-US">feature</SPAN>-файлов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">По
возможности сделать так, чтобы одна
фича выполнялась не более 10 минут (число
10 - условное, здесь нужно отталкиваться
от проекта).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Грамотно
использовать функционал <SPAN LANG="en-US">cucumber</SPAN>-а:
Предыстория, Сценарий, Структура
сценария.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Например,
если все сценарии в фиче имеют общие
начальные действия, то логично эти
действия вынести в Предысторию.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
оформления пулл реквестов и работа с
гитом</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Пулл
реквест создается только после того,
как полностью закончили разработку и
проверили на работоспособность.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">После
создания пулл реквеста необходимо зайти
в него и убедиться, что не добавили
случайно что-нибудь лишнее.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Коммиты
называть логично, не просто наборомом
символов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Плохие
примеры: &quot;12421&quot;, &quot;fix&quot;, &quot;test&quot;.
Хорошие примеры: &quot;Написан новый тест
10.01&quot;, &quot;Пофиксил метод <SPAN LANG="en-US">check</SPAN>_<SPAN LANG="en-US">element</SPAN>&quot;,
&quot;Добавил нового клиента в тест ХХ.ХХ&quot;.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">После
того как проверяющий оставил все
комментарии к пулл реквесту, не добавлять
новых изменений(info)</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Разрешаются
только изменения в рамках исправления
замечаний по комментариям.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Лучше
делать больше &quot;небольших&quot; пулл
реквестов, чем один с большим количеством
новых доработок.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Чем
меньше объем изменений - тем качественне
и быстрее будет происходить процесс
ревью.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
каждого модуля создать свою ветку и
работать в ней. После чего делать пулл
реквест в master.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
написания кода</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Избегать
использование <SPAN LANG="en-US">sleep</SPAN>.
Использовать только для отладки.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Придерживаться
общепринятых стандартов стиля написания
кода на языке Java.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Оставлять
как можно больше комментариев в коде.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Не
всё, что очевидно для вас сейчас, будет
очевидно через месяц/полгода/год. И так
же это может быть не очевидно для ваших
коллег.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">XML</SPAN>,
<SPAN LANG="en-US">JSON</SPAN>, большие SQL-запросы и
т. д.  выносить из кода в отдельные файлы.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">По
возможности хранить тестовые данные и
настройки отдельно от кода - выносить
в конфигурационные файлы.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">По
возможности создавать в автотестах
тестовые данные.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Логировать
как можно больше информации в коде,
чтобы в случае падения теста получать
больше информации.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Например,
выводить информацию в виде &quot;Ожидаемый
и фактический результат&quot;, а не просто
сообщением &quot;Проверка провалилась&quot;.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить,
что у цикла есть запасное условие выхода.
</FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Например,
есть цикл, который выполняет клик по
кнопке, пока она не пропадет с экранной
формы. Может возникнуть ситуация, когда
после клика по кнопке, она не пропадет
(из-за дефекта или новой доработки).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
цикл нужно добавить дополнительное
условие выхода - например, завершить
цикл после 5 кликов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Правила
для проверяющего</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Максимально
ответственно подходить к процессу
ревью. Проводить ревью &quot;на свежую
голову&quot;.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">На
время ревью отложить другие задачи,
чтобы не отвелкаться.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить,
что все изменения в пулл реквесте
придерживаются общих правил (см. выше)
и правил написания на проекте.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить,
что разработчик придерживается стиля
написания ЯП (Java) - название переменных
и классов, отступы и т.д.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить,
что в не самых очевидных местах в коде
разработчик оставил комментарии.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить
соответствие шагов тест-кейса и автотеста.
Убедиться, что все действия и ожидаемые
результаты присутствуют в автотесте.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Важно
обратить внимание - не всегда действия
находятся на поверхности (в фиче).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Например
шаг &quot;Проверили наличие всех полей на
странице&quot; требует погрузиться в код
для сверки наличия требуемых полей в
тест-кейсе и в АТ.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить,
что к ПР приложен результат прогона
автотестов локально (в виде скриншота
или ссылки на отчет в <SPAN LANG="pt-PT">ReportPortal).</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><B>Изменения,
вносимые в проект, желательно покрыть
unit-тестами.</B></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
первую очередь стоит обратить внимание
на:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">тесты
для контрактов - протестировать формат
ответа контроллеров,</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">результат
работы мапперов для использующихся
внутри приложения сущностей. </FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Менять
существующие тестовые данные можно
только в случае изменения кода, для
тестирования которого они предназначены.
</FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Тестовые
объекты желательно не собирать руками
используя new(), лучше использовать
<SPAN LANG="fr-FR">ObjectMapper </SPAN>и XmlMapper, скармливая
им .json и .xml файлы с необходимыми данными,
в идеале с реальными примерами, взятыми
из логов работы системы. </FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Тесты
для контроллеров</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
тестирования контроллера можно
использовать аннотацию <SPAN LANG="de-DE">@WebMvcTest,
</SPAN>она позволит сконфигурировать
необходимый объект MockMvc и поднимет в
<SPAN LANG="en-US">Spring</SPAN> контексте только
бины, необходимые для работы <SPAN LANG="en-US">web</SPAN>
слоя. </FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
тесте НЕОБХОДИМО проверить ответ,
полученный от контроллера. Это можно
сделать с помощью выражения
.<SPAN LANG="en-US">andExpect</SPAN>(<SPAN LANG="en-US">content</SPAN>().<SPAN LANG="en-US">json</SPAN>(<SPAN LANG="en-US">response</SPAN>)),
где <SPAN LANG="en-US">response</SPAN> - это <SPAN LANG="en-US">String</SPAN>,
<SPAN LANG="en-US">c</SPAN>одержащий желаемый ответ
в необходимом формате.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Такой
ответ можно подгрузить любым способом
из файла, содержащегося в тестовых
ресурсах. </FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Пример</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">String
response = getFile(myCoolResponse.json);</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"> </FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"> </FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">mockMvc.perform(get(&quot;/deposits&quot;)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.contentType(APPLICATION_JSON_VALUE)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.param(&quot;clientId&quot;,
&quot;ASSR52&quot;))</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.andExpect(content().json(response))
// </SPAN>проверяем<SPAN LANG="en-US"> </SPAN>ответ<SPAN LANG="en-US">!</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.andExpect(status().isOk());</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Тесты<SPAN LANG="en-US">
</SPAN>для<SPAN LANG="en-US"> </SPAN>мапперов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
тестах для мапперов можно обойтись без
<SPAN LANG="en-US">Spring</SPAN> контекста, достаточно
обычного junit.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Следует
проверять результат фактической работы
маппера с заданным желаемым объектом.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Тесты
микросервиса</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Проверить
поведение всех компонентов приложения
в связке можно благодаря аннотации
@<SPAN LANG="en-US">SpringBootTest</SPAN>. Таким образом
мы можем проверить поведение приложения
от момента запроса на контроллер до
момента получения ответа не мокая
поведение бинов приложения.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Для
этого нам необходимо создать моки всех
использующихся в процессе внешних
вызовов, использую <SPAN LANG="de-DE">wiremock. </SPAN>Для
тестирования процессов, требующих
подключения к mongodb исполользуется
<SPAN LANG="en-US">embedded</SPAN> <SPAN LANG="en-US">mongodb</SPAN>,
также допустимо использование тест
контейнеров (?).</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">В
случае если мы не хотим поднятия в
контексте бинов, не задействованых
фактически в наших тестах, можно задать
для аннотации @<SPAN LANG="en-US">SpringBootTest</SPAN>
конфигурацию, настроенную на ленивое
сканирование бинов из корневого пакета,
например:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Пример</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="it-IT">@SpringBootTest(classes
= LazyTestConfig.class)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"> </FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="fr-FR">@Configuration</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">@ComponentScan(lazyInit
= true, basePackages = &quot;ru.alfabank.ufr.your.root.package&quot;)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
class LazyTestConfig {</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><FONT SIZE=3 STYLE="font-size: 13pt"><SPAN LANG="it-IT"><B>Java
style guide.</B></SPAN></FONT></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Введение.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Приведенные
здесь рекомендации предназначены для
улучшения читабельности кода и обеспечения
его единообразия. Однако, иногда
рекомендации из руководства не применимы.
В случае сомнений, руководствуйтесь
здравым смыслом. Посмотрите на примеры
кода и выберите то, что выглядит лучше.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Рекомендации
сгруппированы по темам, и каждая
рекомендация пронумерована, чтобы на
нее было проще ссылаться во время ревью.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Шаблон
рекомендации следующий:</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">n.
Краткое описание рекомендации</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">//Пример
кода, если необходимо</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Мотивация,
пояснения или какая-либо дополнительная
информация</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Содержание</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Общие
рекомендации.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Именование</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Импорты</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Выражения</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Отступы</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Best</SPAN>
<SPAN LANG="en-US">Practice</SPAN>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Частые
замечания на PR</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Checkstyle</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">1.
Общие рекомендации.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">1.1.
Допускается любое нарушение руководства,
если оно улучшает читаемость.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Основная
цель рекомендации - улучшить читаемость,
понимание и общее качество кода.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2
Именование.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.1
Избегайте специальных символов при
именовании пакетов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Имена
пакетов должны быть в нижнем регистре
без подчеркивания или других специальных
символов.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.2
Не используйте множественное число при
именовании пакетов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Не
используйте множественное число.
Следуйте соглашению стандартного API.
java.util not java.utils</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.3
Имена классов должны быть существительными.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">class
Car {} // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">class
Running {} // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.4
Имена интерфейсов должны быть
существительными или прилагательными
с окончанием <SPAN LANG="en-US">able</SPAN> и не должны
начинаться с I</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="de-DE">interface
Runnable {} // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">interface
IEnumerable {} // AVOID. </SPAN>Привет шарпистам</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.5
В именах классов, переменных и интерфейсов
не должно быть нескольких заглавных
букв подряд.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">class
XmlParser {} // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="de-DE">class
XMLParser {} // AVOID</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">class
IOStream {} // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">class
IoStream {} // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Используя
аббревиатуры в наименовании руководствуйтесь
следующими правилами*</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Аббревиатура
входит в наименование в верхнем регистре,
если она состоит из двух слов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Аббревиатура
входит в наименование только с первой
буквой в верхнем регистре, если она
состоит из трех и более слов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.6
Имена методов должны быть глаголами
или описывать действие</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
String getName() {} // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="nl-NL">public
String name() {} // AVOID</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
void expand() {} // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
boolean expanding() {} // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.7
Имена переменных должны быть в <SPAN LANG="it-IT">CamelCase
</SPAN>и начинаться с нижнего регистра</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">int
currentValue; // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">int
PreviousValue; // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">2.8
Имена констант должны быть в верхнем
регистре, разделяться c помощью <SPAN LANG="en-US">_
</SPAN>и<SPAN LANG="en-US"> </SPAN>быть<SPAN LANG="en-US">
static final</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
static final BUFFER_SIZE = 1024; // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
final ARRAY_SIZE = 10; // AVOID </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">3.
</SPAN>Импорты<SPAN LANG="en-US">.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">3.1
</SPAN>Не<SPAN LANG="en-US"> </SPAN>используйте<SPAN LANG="en-US">
</SPAN>неявный<SPAN LANG="en-US"> </SPAN>импорт</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">import
some.java.package.ParticularClass; // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">import
some.java.package.*; // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Есть<SPAN LANG="en-US">
</SPAN>исключение<SPAN LANG="en-US"> </SPAN>для<SPAN LANG="en-US">
</SPAN>пакета<SPAN LANG="en-US"> java.util</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">import
java.util.*;</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Чтобы
улучшить читаемость, неявный импорт
следует заменить явным. Настройка
импорта в ide</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">3.2
Не оставляйте неиспользуемых импортов
в коде.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.
Выражения.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.1
Размерность логического выражения не
должна превышать 3</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">boolean
good_exp = (!a &amp;&amp; b) | (a || !b) ^ a; // PREFER</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">boolean
bad_exp = (a &amp;&amp; b) &amp;&amp; c &amp;&amp; (c || b); // AVOID
3(&amp;&amp;) + 1(||) = 4</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Слишком
много условий приводит к тому, что код
трудно читать, отлаживать и поддерживать.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.2
Избегайте объявлений массивов в стиле
С</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">int[]
nums; // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">String
strs[]; // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.3
Модификаторы доступа должны следовать
определенному порядку.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">1.
public </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">2.
protected</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">3.
private</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="it-IT">4.
static</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">5.
final</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">6.
transient</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="it-IT">7.
volatile</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">8.
<SPAN LANG="en-US">synchronized</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.4
Не следует указывать модификаторы, если
они неявны</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Например,
методы интерфейса не следует объявлять
<SPAN LANG="en-US">public</SPAN> или <SPAN LANG="en-US">abstract</SPAN>,
а вложенные перечисления и интерфейсы
не следует объявлять static.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.5
Используйте ссылку на метод, вместо
лямбда-функции, где это имеет смысл</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">filter(someStrings::contains);
// PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">filter(s
-&gt; someStrings.contains(s)); // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.6
Инкапсулируйте логику больших
лямбда-функций в методы</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">4.7
Используйте <SPAN LANG="en-US">guard</SPAN> <SPAN LANG="en-US">expression</SPAN>
на входе в метод, вместо вложенности
условий</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
void someMethod() { // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">if
(!condition) { </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">        <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">throw
e;</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">doSomething();</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
void someMethod() { // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">if
(condition) { </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">doSomething();</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}
else {</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">        <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">throw
e;</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">}</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">}</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">5.
Отступы.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">5.1
Размер строки не должен превышать 140
символов включая отступы</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">5.2
Разбивайте выражения которые не влезают
в 140 символов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Когда
выражение не умещается в 140 символов,
разбейте ее основываясь на следующих
принципах</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Разделяйте
выражение после запятой</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Разделяйте
выражение перед операторами</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сопоставьте
новую строку с началом выражения на том
же уровне на предыдущей строке.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">5.3
Не используйте горизонтальное выравнивание
переменных</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public</SPAN>
<SPAN LANG="en-US">class</SPAN> <SPAN LANG="en-US">Entity</SPAN> {</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
String name;</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
int age; // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
class Entity {</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
String name;</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
int     age; // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">6.
Best Practice.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">6.1
Указывать аннотации <SPAN LANG="en-US">NotNull</SPAN>,
<SPAN LANG="en-US">Nullable</SPAN> для библиотек</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Сейчас
у нас все больше распространяется
Kotlin, поэтому все чаще код на нем вызывает
код библиотек, что еще написаны на Java.
Чтобы не использзовать вещи типа !! для
того, чтобы избежать проблем с
совместимостью, надо <SPAN LANG="en-US">public</SPAN>
<SPAN LANG="en-US">static</SPAN> методы, интерфейс-методы,
поля <SPAN LANG="pt-PT">DTO </SPAN>библиотек обозначать
аннотациями, которые подскажут Kotlin как
обработать тип. Подробнее про это можно
почитать в документации Kotlin.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">6.2
Используйте интерфейсы с умом</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Интерфейсы
отделяют функциональность от реализации,
что позволяет использовать несколько
реализаций не меняя сигнатуру потребителя.
Так же интерфейсы - это отличный способ
изолировать реализацию, предоставляя
интерфейс для взаимодействия.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Используйте
интерфейсы когда</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Планируется
несколько реализаций схожих по смыслу
сервисов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Необходимо
отделить интерфейсы друг от друга для
того, чтоб код был более прозрачным
(<SPAN LANG="en-US">Interface</SPAN> <SPAN LANG="en-US">Segregation</SPAN>
<SPAN LANG="en-US">principle</SPAN>)</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Необходимо
явно указать что может объект. Примерами
таких интерфейсов являются <SPAN LANG="en-US">Clonable</SPAN>
и <SPAN LANG="en-US">Comparable</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">6.3
Избегайте использования <SPAN LANG="en-US">Utility</SPAN>
классов</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Utility</SPAN>
классы зачастую идут в разрез с принципами
<SPAN LANG="it-IT">SOLID, </SPAN>а именно с <SPAN LANG="en-US">Single</SPAN>
<SPAN LANG="en-US">Responsibility</SPAN> и <SPAN LANG="en-US">Open</SPAN>-<SPAN LANG="en-US">Closed</SPAN>
<SPAN LANG="en-US">Principle</SPAN>.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
вы все таки решились вынести какую-то
логику в <SPAN LANG="en-US">Utility</SPAN> класс,
задумайтесь, возможно, она может
принадлежать уже существующему классу.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">6.4
Инкапсулируйте повторяющиеся
последовательности преобразования или
участки кода в методы</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">//
PREFER</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Flux&lt;OtherEntity&gt;
filterAndConvert(Flux&lt;Entity&gt; entities) {</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">   <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">return
entities.filter(Utils::predicate)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.map(Converter::convertToOtherEntity)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">someEntityFlux</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">   <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.flatMap(/*
converting */)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.transform(this::filterAndConvert)</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">otherEntityFlux</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.map(/*
do something */)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.transform(this::filterAndConvert)</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">//------------------------------------------------------------</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">//
AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">someEntityFlux</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">   <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.flatMap(/*
converting */)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.filter(Utils::predicate)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.map(Converter::convertToOtherEntity)</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">otherEntityFlux</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">   <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.map(/*
do something */)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">.filter(Utils::predicate)</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">.<SPAN LANG="en-US">map</SPAN>(<SPAN LANG="en-US">Converter</SPAN>::<SPAN LANG="en-US">convertToOtherEntity</SPAN>)</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Метод
<SPAN LANG="pt-PT">transform </SPAN>позволяет применять
инкапсулированные последовательности
преобразований.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">6.5
Не забывайте про принцип YAGNI</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Не
стоит реализовывать функционал, который
сейчас не нужен</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.
Частые замечания на PR.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.1
Валидация полей</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.1.1
Используйте @<SPAN LANG="en-US">NotBlank</SPAN> для
валидации текстовых полей</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Аннотация
@<SPAN LANG="en-US">NotBlank</SPAN> применяется только
для текстовых полей и проверяет, что
свойство не является null или пустой
строкой</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.1.2
Используйте @<SPAN LANG="en-US">NotEmpty</SPAN> для
валидации коллекций</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Аннотация
@<SPAN LANG="en-US">NotEmpty</SPAN> проверяет, что поле
не является null или пустым</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.2
Не используйте блокирующие вызовы в
асинхронном коде</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Mono
blockingWrapper = Mono.fromCallable(() -&gt; { </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">return
/* make a remote synchronous call */ </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">});</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">blockingWrapper
= blockingWrapper.subscribeOn(Schedulers.boundedElastic());</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Старайтесь
избегать блокирующих вызовов в асинхронном
коде, однако если не удается избежать
таких вызовов - используйте обертку
указанную выше. Подробнее тут</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.3
Старайтесь избегать использования
<SPAN LANG="de-DE">Mono#zip </SPAN>вместе с map</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="it-IT">Mono.zip(fistInvocation,
secondInvocation, ZipMerger::merge) // PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="nl-NL">Mono.zip(fistInvocation,
secondInvocation).map(ZipMerger::merge) // AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.4
Прежде чем создавать свой <SPAN LANG="de-DE">Feign
</SPAN>клиент, проверьте его наличие в
репозитории <SPAN LANG="en-US">client</SPAN>-<SPAN LANG="en-US">gateway</SPAN>-<SPAN LANG="en-US">starter</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Если
его там нет, то подумайте/спросите,
возможно, его стоит создать там, а не в
своей апишке</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">7.5
Не использовать контейнеры <SPAN LANG="fr-FR">Tuple,
Pair &amp; etc </SPAN>в контракте</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt">Не
использовать контейнеры, что не отражают
намерения в контрактах классов/интерфейсов.
Контракт должен отражать то, что делает
компонент его реализующий. Нужда смотреть
реализацию, которую такой код порождает
тем, что скрывает назначение полей,
должна отсуствовать.</FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">//
AVOID</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
interface Something { </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">Pair&lt;String,
SomethingDatum&gt; doSomething();</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">//
PREFER</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">public
interface Something { </SPAN></FONT></FONT></FONT>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">
<FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">IndexedSomethingDatum
doSomething();</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="de-DE">@Data</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">class
IndexedSomethingDatum {</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">private
String index;</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000">    <FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">private
SomethingDatum datum;</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">}</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">8.
Checkstyle.</SPAN></FONT></FONT></FONT></P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">1.
</SPAN>Берем<SPAN LANG="en-US"> checkstyle.xml</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">2.
</SPAN>Далее<SPAN LANG="en-US"> </SPAN>открываем<SPAN LANG="en-US">
</SPAN><SPAN LANG="en-US">IDE </SPAN>и<SPAN LANG="en-US"> </SPAN>идем<SPAN LANG="en-US">
File-&gt;Settings-&gt;Plugins.</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">3.
</SPAN>Ставим<SPAN LANG="en-US"> </SPAN>плагин<SPAN LANG="en-US">
CheckStyle-IDEA</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">4.
</SPAN>Далее<SPAN LANG="en-US"> File-&gt;Settings-&gt;Code
Style-&gt;Java</SPAN></FONT></FONT></FONT></P>
<P LANG="en-US" STYLE="margin-bottom: 0in"><BR>
</P>
<P STYLE="margin-bottom: 0in"><FONT COLOR="#000000"><FONT FACE="Helvetica, serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN LANG="en-US">5.
</SPAN>Нажимаем<SPAN LANG="en-US"> </SPAN>на<SPAN LANG="en-US">
</SPAN>шестеренку<SPAN LANG="en-US"> -&gt; Import Scheme -&gt;
Checkstyle Configuration</SPAN></FONT></FONT></FONT></P>
<DIV TYPE=FOOTER>
	<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.16in; margin-bottom: 0in">
	<BR>
	</P>
</DIV>
</BODY>
</HTML>
