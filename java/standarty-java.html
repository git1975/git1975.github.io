<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 12">
<meta name=Originator content="Microsoft Word 12">
<link rel=File-List href="standarty-java.files/filelist.xml">
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>den</o:Author>
  <o:LastAuthor>den</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>17</o:TotalTime>
  <o:Created>2021-05-27T09:37:00Z</o:Created>
  <o:LastSaved>2021-05-27T09:37:00Z</o:LastSaved>
  <o:Pages>15</o:Pages>
  <o:Words>5485</o:Words>
  <o:Characters>31268</o:Characters>
  <o:Lines>260</o:Lines>
  <o:Paragraphs>73</o:Paragraphs>
  <o:CharactersWithSpaces>36680</o:CharactersWithSpaces>
  <o:Version>12.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=themeData href="standarty-java.files/themedata.thmx">
<link rel=colorSchemeMapping href="standarty-java.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>RU</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
  </w:Compatibility>
  <w:DoNotOptimizeForBrowser/>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:204;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536858881 -1073711013 9 0 511 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Arial Unicode MS";
	border:none;
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;}
a:link, span.MsoHyperlink
	{mso-style-unhide:no;
	mso-style-parent:"";
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:fuchsia;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
p.Body, li.Body, div.Body
	{mso-style-name:Body;
	mso-style-unhide:no;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Helvetica","sans-serif";
	mso-fareast-font-family:"Arial Unicode MS";
	mso-bidi-font-family:"Arial Unicode MS";
	color:black;
	border:none;}
span.Hyperlink0
	{mso-style-name:"Hyperlink\.0";
	mso-style-unhide:no;
	mso-style-parent:Гиперссылка;
	text-decoration:underline;
	text-underline:single;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-size:10.0pt;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;
	mso-fareast-font-family:"Arial Unicode MS";
	border:none;}
.MsoPapDefault
	{mso-style-type:export-only;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("standarty-java.files/header.htm") fs;
	mso-footnote-continuation-separator:url("standarty-java.files/header.htm") fcs;
	mso-endnote-separator:url("standarty-java.files/header.htm") es;
	mso-endnote-continuation-separator:url("standarty-java.files/header.htm") ecs;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:2.0cm 2.0cm 2.0cm 2.0cm;
	mso-header-margin:35.45pt;
	mso-footer-margin:42.5pt;
	mso-header:url("standarty-java.files/header.htm") h1;
	mso-footer:url("standarty-java.files/header.htm") f1;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	border:none;}
table.TableNormal
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-unhide:no;
	mso-style-parent:"";
	mso-padding-alt:0cm 0cm 0cm 0cm;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";
	border:none;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=RU link="#000000" vlink=fuchsia style='tab-interval:36.0pt'>

<div class=WordSection1>

<p class=Body><b><span style='font-size:13.0pt'>Стандарты разработки </span></b><b><span
lang=PT style='font-size:13.0pt;mso-ansi-language:PT'>Java </span></b><b><span
style='font-size:13.0pt'>для </span></b><b><span lang=EN-US style='font-size:
13.0pt;mso-ansi-language:EN-US'>outsource</span></b><b><span lang=EN-US
style='font-size:13.0pt'> </span></b><b><span style='font-size:13.0pt'>проектов<o:p></o:p></span></b></p>

<p class=Body>Технологические требования к приложению:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span class=SpellE>Java</span> 11</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Spring Boot
2.2.+ (Core, Data, Messaging), <span class=SpellE>Lombock</span>, <span
class=SpellE>Mapstruct</span>, Apache Commons.<o:p></o:p></span></p>

<p class=Body>Для<span style='mso-ansi-language:EN-US'> </span>тестирования<span
style='mso-ansi-language:EN-US'> <span lang=EN-US>Spring Boot Test, <span
class=SpellE>JUnit</span> 5, <span class=SpellE>Mockito</span>, <span
class=SpellE>TestContainers</span>, <span class=SpellE>WireMock</span>.<o:p></o:p></span></span></p>

<p class=Body><span class=SpellE>Логирование</span> через slf4j и <span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>logback</span></span>,
возможность настройки по отправке логов в <span lang=PT style='mso-ansi-language:
PT'>stdout, TCP socket. </span></p>

<p class=Body>Для интеграции с <span lang=EN-US style='mso-ansi-language:EN-US'>REST</span><span
lang=EN-US> </span>сервисами необходимо использовать <span class=SpellE><span
lang=DE style='mso-ansi-language:DE'>Feign</span></span><span lang=DE
style='mso-ansi-language:DE'>/RestTemplate/WebClient. </span>Для интеграции с
SOAP сервисами необходимо использовать <span lang=IT style='mso-ansi-language:
IT'>Apache CXF.</span></p>

<p class=Body>Мониторинг через <span lang=IT style='mso-ansi-language:IT'>Spring
Boot Actuator+Micrometer </span>для последующий отправки в <span lang=EN-US
style='mso-ansi-language:EN-US'>Prometheus</span>.</p>

<p class=Body>Система сборки <span class=SpellE>Gradle</span>.</p>

<p class=Body>Для параметризации приложений использовать <span lang=EN-US
style='mso-ansi-language:EN-US'>Spring</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Boot</span><span lang=EN-US> </span><span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>Config</span></span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Server</span>
+ <span lang=EN-US style='mso-ansi-language:EN-US'>Environment</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Variables</span>.</p>

<p class=Body>Нетехнологические требования к приложению:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Использование <span class=SpellE>микросервисной</span>
архитектуры, там где это <span class=SpellE>уместо</span>.</p>

<p class=Body>Использование <span class=SpellE>RESTful</span> API для
реализации синхронных взаимодействий.</p>

<p class=Body>Обязательное наличие документации на все &quot;исполняемые&quot;
методы (отдельные методы API, <span class=SpellE>listener</span> очередей, <span
lang=EN-US style='mso-ansi-language:EN-US'>scheduled</span><span lang=EN-US> </span>методы)</p>

<p class=Body>Обязательное покрытие тестами всех &quot;исполняемых&quot;
методов (отдельные методы API, <span class=SpellE>listener</span> очередей, <span
lang=EN-US style='mso-ansi-language:EN-US'>scheduled</span><span lang=EN-US> </span>методы).</p>

<p class=Body>Необходимо <span class=SpellE>логировать</span> все запросы и
ответы от клиентов к <span lang=EN-US style='mso-ansi-language:EN-US'>API</span><span
lang=EN-US> </span>приложения и все запросы и ответы от приложения к внешним
сервисам.</p>

<p class=Body>Требования по инфраструктуре:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Для хранения данных: <span lang=EN-US style='mso-ansi-language:
EN-US'>Oracle</span> (<span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>Postgresql</span></span>), <span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>MongoDB</span></span>, <span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Elasticsearch</span></span>.</p>

<p class=Body>Для очередей: <span class=SpellE>Kafka</span>.</p>

<p class=Body>Для <span class=SpellE>кеширования</span>: <span class=SpellE>Hazelcast</span>
или <span class=SpellE><span lang=DE style='mso-ansi-language:DE'>Caffeine</span></span><span
lang=DE style='mso-ansi-language:DE'>.</span></p>

<p class=Body>В качестве конечного артефакта использовать <span lang=SV
style='mso-ansi-language:SV'>docker </span>контейнеры. Для развертывания всего
проекта необходимо предоставить <span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>docker</span></span>-<span lang=EN-US
style='mso-ansi-language:EN-US'>compose</span><span lang=EN-US> </span>файл.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><b><span style='font-size:13.0pt'>Статический</span></b><b><span
style='font-size:13.0pt;mso-ansi-language:EN-US'> </span></b><b><span
style='font-size:13.0pt'>анализ</span></b><b><span style='font-size:13.0pt;
mso-ansi-language:EN-US'> </span></b><b><span style='font-size:13.0pt'>кода</span></b><b><span
style='font-size:13.0pt;mso-ansi-language:EN-US'> </span></b><b><span
lang=ES-TRAD style='font-size:13.0pt;mso-ansi-language:ES-TRAD'>Java</span></b><b><span
lang=EN-US style='font-size:13.0pt;mso-ansi-language:EN-US'><o:p></o:p></span></b></p>

<p class=Body>Стат. анализ в <span lang=PT style='mso-ansi-language:PT'>Java </span>сейчас
реализуется <span class=SpellE>плагином</span> <span lang=EN-US
style='mso-ansi-language:EN-US'>http</span>://<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>git</span></span>.<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>moscow</span></span>.<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>alfaintra</span></span>.<span
lang=EN-US style='mso-ansi-language:EN-US'>net</span>/<span lang=EN-US
style='mso-ansi-language:EN-US'>projects</span>/<span lang=EN-US
style='mso-ansi-language:EN-US'>TEC</span>/<span lang=EN-US style='mso-ansi-language:
EN-US'>repos</span>/<span lang=EN-US style='mso-ansi-language:EN-US'>application</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>configure</span>-<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>gradle</span></span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>plugins</span></span>/,
там подключены следующие анализаторы:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>CodestyleAutoformat</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'> -
http://git.moscow.alfaintra.net/projects/TEC/repos/codestyle-autoformat-gradle-plugin/<o:p></o:p></span></p>

<p class=Body><span lang=ES-TRAD style='mso-ansi-language:ES-TRAD'>SonarQube -
https://plugins.gradle.org/plugin/org.sonarqube</span><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Quality</span> -
<span lang=EN-US style='mso-ansi-language:EN-US'>http</span>://<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>git</span></span>.<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>moscow</span></span>.<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>alfaintra</span></span>.<span
lang=EN-US style='mso-ansi-language:EN-US'>net</span>/<span lang=EN-US
style='mso-ansi-language:EN-US'>projects</span>/<span lang=EN-US
style='mso-ansi-language:EN-US'>AMML</span>/<span lang=EN-US style='mso-ansi-language:
EN-US'>repos</span>/<span lang=EN-US style='mso-ansi-language:EN-US'>quality</span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>gradle</span></span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>plugin</span></span>/,
включает в себя:</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>- <span
class=SpellE>CheckStyle</span> - https://checkstyle.sourceforge.io/<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>- <span
class=SpellE>Pmd</span> - https://pmd.github.io/<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>- <span
class=SpellE>SpotBugs</span> - https://spotbugs.github.io/<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>- <span
class=SpellE>Codenarc</span> - http://codenarc.sourceforge.net/<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><b><span lang=EN-US style='font-size:13.0pt;mso-ansi-language:
EN-US'>Code</span></b><b><span style='font-size:13.0pt'>-</span></b><b><span
lang=EN-US style='font-size:13.0pt;mso-ansi-language:EN-US'>review</span></b><b><span
lang=EN-US style='font-size:13.0pt'> </span></b><b><span lang=EN-US
style='font-size:13.0pt;mso-ansi-language:EN-US'>Java</span></b><b><span
style='font-size:13.0pt'><o:p></o:p></span></b></p>

<p class=Body>Общие соглашения:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Все изменения в код вливаются через PR</p>

<p class=Body>Мы стремимся делать <span lang=DE style='mso-ansi-language:DE'>PR
</span>минимального размера</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>На сервисы, которые <span class=SpellE>переиспользуются</span> в
других проектах или являются общими, назначены <span class=SpellE>дефолтные</span>
<span class=SpellE>ревьюеры</span>, их <span class=SpellE>аппрув</span>
обязателен</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>При <span class=SpellE>мерже</span> мы удаляем ветки в гите</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Используем инструменты Статический анализ кода <span
lang=ES-TRAD style='mso-ansi-language:ES-TRAD'>Java</span></p>

<p class=Body>НИБ/АБМ:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><b><span style='font-size:13.0pt'>Требования к сервисам НИБ/АБМ<o:p></o:p></span></b></p>

<p class=Body>Правила оформления <span lang=IT style='mso-ansi-language:IT'>pull-request'</span><span
class=SpellE>ов</span> и проведения <span lang=EN-US style='mso-ansi-language:
EN-US'>code</span><span lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:
EN-US'>review</span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>и
процесс <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span>
- два неразрывно связанных друг с другом понятия. В этой статье я постараюсь
ответить на несколько вопросов:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>какие основные цели проведения <span class=SpellE>код-ревью</span>:
с позиции разработчика и с позиции <span class=SpellE>ревьюера</span>.</p>

<p class=Body>как оформить свой <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span>, так чтобы процесс <span
lang=EN-US style='mso-ansi-language:EN-US'>code</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>review</span><span lang=EN-US> </span>был
максимально продуктивен для обеих сторон.</p>

<p class=Body>как проводить <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span>,
чтобы у разработчика не сложилось впечатление, что <span lang=EN-US
style='mso-ansi-language:EN-US'>code</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>review</span> - это неизбежное зло.</p>

<p class=Body>Цели<span style='mso-ansi-language:EN-US'> <span lang=EN-US>pull-request
</span></span>и<span style='mso-ansi-language:EN-US'> <span lang=EN-US>code
review<o:p></o:p></span></span></p>

<p class=Body>Давайте сначала попробуем понять для чего нам нужен этот процесс:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Получение обратной связи. Обратить внимание на ошибки, которые
были не замечены в процессе разработки, дать идеи для <span class=SpellE>рефакторинга</span>.</p>

<p class=Body>Улучшение понимания проекта. Отточить свои навыки в чтении чужого
кода и понять бизнес-процессы другого проекта, что в свою очередь позволит
меньше тратить времени на последующие <span class=SpellE>code</span> <span
class=SpellE>review</span>.</p>

<p class=Body>Снижение рисков ошибок в проекте.</p>

<p class=Body>Поддержка согласованности кода проекта. Отследить выполнение
стандартов проекта, требования по безопасности (все ли пароли зашифрованы и т.
п.).</p>

<p class=Body>Развитие инженерной культуры. Научиться эффективно проводить <span
class=SpellE>code</span> <span class=SpellE>review</span>.</p>

<p class=Body>Обучение и передача опыта. Путём взаимодействия через <span
lang=IT style='mso-ansi-language:IT'>pull-request'</span><span class=SpellE>ы</span>
происходит обучение начинающих разработчиков более опытными. Исправляя свои
ошибки, мы учимся.</p>

<p class=Body>Правила создания и оформления <span lang=EN-US style='mso-ansi-language:
EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:EN-US'>request</span></p>

<p class=Body>Всё начинается с правильно оформленного <span lang=IT
style='mso-ansi-language:IT'>pull-request. </span>Давайте рассмотрим несколько
рекомендаций, которые упростят <span class=SpellE>ревьюерам</span> процесс
проведения <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span>,
а значит и ускорят его.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Атомарность <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>должен
делать только то, что непосредственно описано в задаче или затрагивается во
время реализации. Все изменения, которые попадают в <span lang=EN-US
style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:
EN-US'>request</span><span lang=EN-US> </span>должны относиться строго к
поставленной задаче. Если в процессе написания кода вы замечаете, что неплохо
было бы <span class=SpellE>отрефакторить</span> часть кода или обнаруживаете <span
class=SpellE>баг</span> или потенциально опасный код, то такие изменения не
стоит включать в данный <span lang=IT style='mso-ansi-language:IT'>pull-request.
</span>Заведите задачу в <span class=SpellE>jira</span> и создайте отдельный <span
lang=IT style='mso-ansi-language:IT'>pull-request.</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>не
должен превышать 300-400 строчек кода. Большие <span lang=EN-US
style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:
EN-US'>request</span><span lang=EN-US> </span>долго и тяжело просматривать. Как
правило, такие <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>просматриваются
по диагонали и не достигают поставленных выше целей. Практика показывает, что
быстрее и качественнее проходит <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span><span
lang=EN-US> </span>трёх <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>по
400 строк кода, чем одного <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>на
1200 строк кода, при условии, что <span lang=EN-US style='mso-ansi-language:
EN-US'>review</span><span lang=EN-US> </span>выполняется тщательно в обоих
случаях. Если вам предстоит большая задача, то помимо основной ветки <span
lang=EN-US style='mso-ansi-language:EN-US'>branch</span><span lang=EN-US> </span>от
<span lang=EN-US style='mso-ansi-language:EN-US'>master</span>, создайте
несколько <span lang=IT style='mso-ansi-language:IT'>pull-request'</span><span
class=SpellE>ов</span> в саму ветку <span class=SpellE>branch</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Обязательная проверка кода перед тем, как создать <span
lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US
style='mso-ansi-language:EN-US'>request</span></p>

<p class=Body>Просматривайте <span lang=FR style='mso-ansi-language:FR'>git
diff </span>перед <span lang=IT style='mso-ansi-language:IT'>commit. </span>Перед
тем, как <span class=SpellE>закоммитить</span> изменения обязательно
просматривайте <span lang=FR style='mso-ansi-language:FR'>git diff. </span>Стоит
проверить не оставили ли вы где-либо debug-строки, TODO-комментарии,
соответствует ли ваш код правилам оформления (комментарии, пробелы и пр. - этот
процесс лучше автоматизировать, но у нас этого пока нет). Задайте себе вопрос <span
class=SpellE>очевиднали</span> логика, которую вы описали, может требуется
дополнительный комментарий.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Запустите тесты и убедитесь, что они проходят. Обязательно
проверяйте проходят ли все тесты. Часто бывает так, что мы отправляем код на <span
lang=EN-US style='mso-ansi-language:EN-US'>review</span>, не проверив
работоспособность тестов. В итоге <span class=SpellE>ревьюер</span> видит
поломавшийся <span lang=EN-US style='mso-ansi-language:EN-US'>build</span>, откладывает
<span class=SpellE>ревью</span> и ждёт исправления, что порой сильно замедляет
процесс.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Название должно быть кратким и точным</p>

<p class=Body>В <span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>Bitbucket</span></span><span lang=EN-US> </span><span class=SpellE>по-умолчанию</span>
в поле <span lang=EN-US style='mso-ansi-language:EN-US'>Title</span><span
lang=EN-US> </span>подставляется название ветки, которую вы хотите слить. Так
как поле <span lang=EN-US style='mso-ansi-language:EN-US'>Title</span> - это
единственная информация, которая отображается в кратком списке <span lang=IT
style='mso-ansi-language:IT'>pull-request'</span><span class=SpellE>ов</span>,
то именно, исходя из краткого названия вашего <span lang=EN-US
style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:
EN-US'>request</span>, <span class=SpellE>ревьюеры</span> решают будут ли они
его смотреть и когда.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Название должно быть кратким, но достаточно выразительным, чтобы <span
class=SpellE>ревьюер</span> мог понять, что ему ожидать. Рассмотрим в качестве
примера <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span>, реализующий новое
бизнес-требование по вычислению налога для нерезидентов РФ. Название Изменение
правила вычисления налога для нерезидентов РФ точное. Изменение правила
вычисления налога для нерезидентов РФ, согласно указу ЦБ от 20.02.2020 ещё
точнее, с указанием контекста. Однако, названия для <span lang=EN-US
style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:
EN-US'>request</span><span lang=EN-US> </span>по типу: Добавление новых
параметров для вычисления налога или Изменение логики вычисления налогов
слишком общие и не подходят для <span lang=IT style='mso-ansi-language:IT'>pull-request.
</span>На другой стороне спектра названия, перегруженные конкретикой, например
Изменение в классе <span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>TaxInternals</span></span><span lang=EN-US> </span>и <span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>CalculateEffectiveRate</span></span>,
согласно изменениям в указ ЦБ № 20444 от 20.02.2020. Понимание, что такое
слишком много деталей или наоборот слишком мало, зависит от того, на кого
рассчитан этот <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span>, но всё же в
названиях следует придерживаться золотой середины.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Описание должно отвечать на вопрос &quot;зачем?&quot;</p>

<p class=Body>По-умолчанию в <span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>Bitbucket</span></span><span lang=EN-US> </span>поле
<span lang=FR style='mso-ansi-language:FR'>Description </span>заполняется логом
<span class=SpellE>git-коммитов</span>, вошедших в <span lang=IT
style='mso-ansi-language:IT'>pull-request. </span>Эта информация не несёт в
себе никакой ценности для <span class=SpellE>ревьюеров</span> и лучше заполнить
<span lang=FR style='mso-ansi-language:FR'>Description </span>следующими
данными:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Дать ссылку на задачу в <span lang=PT style='mso-ansi-language:
PT'>Jira. </span>При этом сама задача в <span lang=PT style='mso-ansi-language:
PT'>Jira </span>должна быть правильно оформлена и давать представления о том,
что послужило поводом для внесения изменений.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Опишите выбранный вами способ реализации. Кратко укажите детали
реализации: какие шаблоны проектирования вы использовали, какие в коде есть
сложные места, что не удалось сделать, как хотелось изначально и почему. Если в
процессе выполнения задачи был выполнен <span class=SpellE>рефакторинг</span>,
то опишите обоснование и цели <span class=SpellE>рефакторинга</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Правила проведения <span lang=EN-US style='mso-ansi-language:
EN-US'>code</span><span lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:
EN-US'>review</span></p>

<p class=Body>Цели <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span></p>

<p class=Body>дать обратную связь (в том числе и положительную)</p>

<p class=Body>помочь сделать код понятней и проще</p>

<p class=Body>помочь избежать ошибок</p>

<p class=Body>Беремся за <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span>,
как можно раньше. Если нет возможности взяться за <span class=SpellE>ревью</span>
прямо сейчас, поставьте автора в известность, когда вы сможете посмотреть его <span
lang=IT style='mso-ansi-language:IT'>pull-request. </span>В идеале один раунд <span
lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US
style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>не
должен занимать более двух часов.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span class=SpellE>Многораундовость</span></p>

<p class=Body>Сложные <span lang=IT style='mso-ansi-language:IT'>pull-request'</span><span
class=SpellE>ы</span> разбивай на несколько раундов <span class=SpellE>code</span>
<span class=SpellE>review</span>. Не нужно пытаться провести <span lang=EN-US
style='mso-ansi-language:EN-US'>review</span><span lang=EN-US> </span>большого <span
lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span lang=EN-US
style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>за один
раз, лучше поделить его на несколько раундов. В первом раунде стоит рассмотреть
архитектурные вопросы, во втором детали реализации, в третьем стили
кодирования. Раунды должны выстраиваться по принципу от общего к частному или
от высокоуровневых вопросов к низкоуровневым.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Если <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>содержит
не связанные друг с другом части, попроси разделить его на несколько <span
lang=IT style='mso-ansi-language:IT'>pull-request'</span><span class=SpellE>ов</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Количество раундов <span class=SpellE>ревью</span> должно в
идеале не превышать трёх. Большое количество раундов <span class=SpellE>ревью</span>
будет затягивать процесс принятия <span lang=IT style='mso-ansi-language:IT'>pull-request.</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Процесс <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span></p>

<p class=Body>Вначале читаем описание к <span lang=EN-US style='mso-ansi-language:
EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:EN-US'>request</span>,
знакомимся со всеми приложенными документами, комментариями. Переходим и
смотрим связанную задачу в <span lang=PT style='mso-ansi-language:PT'>Jira. </span>Думаем
над тем, как бы эту задачу реализовали вы.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Далее проходим по трём шагам. Если все три шага удаётся сделать
за один раунд <span lang=EN-US style='mso-ansi-language:EN-US'>code</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>review</span><span
lang=EN-US> </span>отлично, если нет, то откладываем те шаги, которые вызывают
затруднения на следующий раунд.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>1. Проверка выполнения задачи, общая архитектура</p>

<p class=Body>Проверяем, что код решает поставленную задачу в полном объёме.
Возможно есть какие-то <span lang=EN-US style='mso-ansi-language:EN-US'>corner</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>cases</span>,
которые не рассмотрел автор. Смотрим на тесты, контроллеры. Если что-то
непонятно, то лучше запустить код, прогнать тесты на своей машине.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Смотрим на принятые архитектурные решения. Не является ли это
решение слишком сложным, есть ли более простые решения. Обратите внимание
автора на это, приведите пример реализации или дайте ссылку на неё.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Проверяем взаимодействие отдельных частей приложения, <span
class=SpellE>микросервисов</span>. Является ли данное взаимодействие
оптимальным? Если есть реализации, которые уже реализованы в проекте или других
<span class=SpellE>микросервисах</span>, стоит указать автору на это.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Здесь же смотрим на соответствие документации коду, если какой-то
момент не <span class=SpellE>задокументирован</span>, стоит упомянуть об этом.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>2. Проверка реализации</p>

<p class=Body>Смотрим внимательнее на реализацию. Использует ли автор общие для
проектов <span class=SpellE>стэка</span> библиотеки. Ищем код, который можно
написать проще. Смотрим за тем, чтобы логика располагалась в предназначенных
для неё местах (например, работа с базой данных располагалась внутри <span
class=SpellE>репозитория</span>).</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Если какая-то ошибка повторяется в коде больше одного раза, не
пишем кучу однотипных комментариев, создаем общий комментарий вне кода и
указываем ссылку на него из мест, где присутствует ошибка</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>3. Проверка стиля</p>

<p class=Body>Просматриваем код построчно на выявление неудачных названий,
стилистических ошибок.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Данная часть не должна занимать много времени и должна быть по
максимуму автоматизирована.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Так как читаемость кода - дело субъективное не переусердствуйте
на данном этапе.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>В <span lang=IT style='mso-ansi-language:IT'>IntelliJ Idea </span>можно
установить <span lang=FR style='mso-ansi-language:FR'>SonarQube plugin </span>и
настроить его на <span lang=EN-US style='mso-ansi-language:EN-US'>http</span>://<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>corpint</span></span>3/<span
lang=EN-US style='mso-ansi-language:EN-US'>gulag</span>. Тогда уже в процессе
написания кода можно будет запускать <span lang=EN-US style='mso-ansi-language:
EN-US'>Analyze</span> -&gt; <span lang=EN-US style='mso-ansi-language:EN-US'>Inspect</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>code</span>...
и получать отчёты об ошибках, найденных <span class=SpellE>sonar</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Несколько советов</p>

<p class=Body>Выносите серьёзные ошибки, требующие исправления в виде <span
lang=IT style='mso-ansi-language:IT'>task. </span>Если вы заметили серьёзную
ошибку, создайте <span lang=EN-US style='mso-ansi-language:EN-US'>task</span><span
lang=EN-US> </span>в комментарии.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Используйте <span lang=EN-US style='mso-ansi-language:EN-US'>Needs</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Work</span>.
Если нашли ошибки, сообщите об этом автору, при помощи кнопки <span lang=EN-US
style='mso-ansi-language:EN-US'>Needs</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Work</span>, не думайте, что автор с
наскоку увидит все ваши комментарии.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Если ошибки не существенны или основные ошибки поправлены, не
задерживайте <span lang=IT style='mso-ansi-language:IT'>pull-request. </span>Не
стоит держать <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>до
тех пор, пока автор не поправит все обнаруженные ошибки. Доверяйте коллегам,
они в состоянии внести минорные изменения самостоятельно.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Обозначения в комментариях <span lang=EN-US style='mso-ansi-language:
EN-US'>code</span><span lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:
EN-US'>review</span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>WIP</span> (<span
lang=EN-US style='mso-ansi-language:EN-US'>Work</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>in</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>progress</span>). Если вы добавляете
<span class=SpellE>коммиты</span> в <span lang=EN-US style='mso-ansi-language:
EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:EN-US'>request</span>,
но при этом работа над ним ещё не закончена, стоит каким-то образом известить
об этом <span class=SpellE>ревьюеров</span>. Один из способов сделать это -
указать перед названием <span lang=IT style='mso-ansi-language:IT'>pull-request'</span>а
тег [WIP].</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>nit</span> (<span
lang=EN-US style='mso-ansi-language:EN-US'>nitpicking</span>). Любые
несущественные замечания в комментариях к <span lang=EN-US style='mso-ansi-language:
EN-US'>pull</span>-<span lang=EN-US style='mso-ansi-language:EN-US'>request</span><span
lang=EN-US> </span>стоит отмечать при помощи тега <span class=SpellE>nit</span>,
предшествующего комментарию.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Настройки <span lang=EN-US style='mso-ansi-language:EN-US'>Merge</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Checks</span></p>

<p class=Body>Исходя из всего вышесказанного, вы можете настроить <span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>Bitbucket</span></span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Merge</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Checks</span>,
так чтобы они не пропускали плохой код в <span lang=FR style='mso-ansi-language:
FR'>production.</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>All</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>reviewers</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>approve</span>
- <span lang=EN-US style='mso-ansi-language:EN-US'>Disabled</span>. Не имеет
никакого смысла ждать принятия <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>всеми
<span class=SpellE>ревьюерами</span>, можно и не дождаться.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Minimum
approvals - Enabled. Number of approvals &gt;= 1. </span>Задаём минимальное
число принятий <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span><span lang=EN-US> </span>больше
или равно одному. Это<span style='mso-ansi-language:EN-US'> </span>не<span
style='mso-ansi-language:EN-US'> </span>пропустит<span style='mso-ansi-language:
EN-US'> </span><span class=SpellE>непросмотренные</span><span style='mso-ansi-language:
EN-US'> </span><span lang=IT style='mso-ansi-language:IT'>pull-request'</span><span
class=SpellE>ы</span><span lang=EN-US style='mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Minimum
successful builds - Enabled. Number</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>of</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>builds</span> &gt;= 1. Проект должен
успешно собираться, будет очень здорово, если за этим будет следить <span
class=SpellE>Bitbucket</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>No 'Needs work'
status - Enabled. </span>Если мы договариваемся, в случае критичных ошибок,
выставлять статус <span lang=NL style='mso-ansi-language:NL'>'Needs work', </span>то
такие <span lang=IT style='mso-ansi-language:IT'>pull-request'</span><span
class=SpellE>ы</span> не должны быть <span class=SpellE>смерджены</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>No incomplete
tasks - Enabled. </span>Та<span style='mso-ansi-language:EN-US'> </span>же<span
style='mso-ansi-language:EN-US'> </span>самая<span style='mso-ansi-language:
EN-US'> </span>история<span style='mso-ansi-language:EN-US'> </span>с<span
lang=EN-US style='mso-ansi-language:EN-US'> tasks. </span>Если мы заводим <span
lang=EN-US style='mso-ansi-language:EN-US'>tasks</span><span lang=EN-US> </span>на
критичные замечания, то <span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>BitBucket</span></span><span lang=EN-US> </span>будет препятствовать
слиянию таких <span lang=EN-US style='mso-ansi-language:EN-US'>pull</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>request</span>’<span class=SpellE>ов</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><b><span style='font-size:13.0pt'>Соглашения по построению API<o:p></o:p></span></b></p>

<p class=Body>Порты для распределённого <span class=SpellE>кэша</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Название проекта<span style='mso-tab-count:1'>     </span>порты<span
style='mso-tab-count:1'>  </span><span class=SpellE>Mode</span></p>

<p class=Body><span lang=PT style='mso-ansi-language:PT'>corp-list<span
style='mso-tab-count:1'>           </span>30001-30020<span style='mso-tab-count:
1'>   </span>TCP</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span class=SpellE>Переиспользование</span> сервисов.</p>

<p class=Body>На текущий момент есть деление на корневые и проектные сервисы -
корневые используются в нескольких проектах, проектные используются только в
соответствующим им проектам.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>По факту корневых сервисов оказалось слишком много, а проектных
сервисов оказалось слишком мало, поэтому предлагается уходить в сторону общего
списка сервисов, <span class=SpellE>переиспользумых</span> всеми желающими.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Концепция корневых <span class=SpellE>переиспользуемых</span>
сервисов:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>один <span class=SpellE>исходник</span></p>

<p class=Body>с одной основной веткой</p>

<p class=Body>без <span class=SpellE>форков</span>.</p>

<p class=Body>Отдельных постоянных веток для отдельных проектов нет - только
мастер, в который вливаются доработки. Из этого мастера собирается образ (<span
class=SpellE>версионированный</span>, на одну версию всегда один образ, для
всех проектов общий).</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Если команде нужен этот сервис для проекта, то в <span
class=SpellE>скриптах</span> проекта раскатывается этот образ со своими
настройками, отдельным независимым контейнером. Таким образом все, кто
используют данный сервис, катают у себя отдельный экземпляр.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Когда кто-то обновляет мастер - обновляется (собирает и
раскатывает для себя) только тот проект, которому это было нужно (который делал
пул <span class=SpellE>реквест</span> в мастер), остальные проекты живут на
старой версии.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Когда остальным проектам надо подтянуться или доработать сервис
для себя - подтягивают себе все доработки (раскатывают у себя образ крайней
версии).</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Пример корневого сервиса</p>

<p class=Body><span class=SpellE>Исходник</span> <span class=SpellE>profiles-api</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Развернутые сервисы:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>http</span>://<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>corpmesosint</span></span>1/<span
lang=EN-US style='mso-ansi-language:EN-US'>marathon</span>/<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>ui</span></span>/#/<span lang=EN-US
style='mso-ansi-language:EN-US'>apps</span>/%2<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Fcorp</span></span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>list</span>%2<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Fmiddle</span></span>%2<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>Fprofiles</span></span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>api</span></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>http</span>://<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>corpmesosint</span></span>1/<span
lang=EN-US style='mso-ansi-language:EN-US'>marathon</span>/<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>ui</span></span>/#/<span lang=EN-US
style='mso-ansi-language:EN-US'>apps</span>/%2<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Fcorp</span></span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>dash</span>%2<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Fmiddle</span></span>%2<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>Fprofiles</span></span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>api</span></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>http</span>://<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>corpmesosint</span></span>1/<span
lang=EN-US style='mso-ansi-language:EN-US'>marathon</span>/<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>ui</span></span>/#/<span lang=EN-US
style='mso-ansi-language:EN-US'>apps</span>/%2<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Fcorp</span></span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>depo</span></span>%2<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>Fmiddle</span></span>%2<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>Fprofiles</span></span>-<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>api</span></span></p>

<p class=Body>Для разделения настроек и самих сервисов используется такое
свойство как <span lang=EN-US style='mso-ansi-language:EN-US'>PROJECT</span>_<span
lang=EN-US style='mso-ansi-language:EN-US'>KEY</span>:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>настраивается в <span class=SpellE>скриптах</span> раскатки,</p>

<p class=Body>используется как часть наименования сервиса в марафоне,</p>

<p class=Body>используется как префикс/папка настроек в консуле или <span
class=SpellE>конфиг-сервере</span>,</p>

<p class=Body>используется как префикс пути, по которому сервис будет доступен
через <span class=SpellE>балансировщик</span> (<span class=SpellE>nginx</span>/<span
class=SpellE>haproxy</span>).</p>

<p class=Body>Это позволяет настраивать и использовать каждый <span
class=SpellE>экземпяр</span> этого сервиса по отдельности.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Пример<span style='mso-ansi-language:EN-US'> <span lang=EN-US>PROJECT_KEY
-
http://git/projects/CORP-DEPO/repos/corp-depo-ansible/browse/group_vars/all/main.yml.<o:p></o:p></span></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body>Доменная модель</p>

<p class=Body>На текущий момент сервисы проектируются таким образом, чтобы
предоставить набор неких атомарных операций, которые позволят собрать любую
необходимую сложную операцию как композицию этих простых операций.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>По факту, это <span lang=EN-US style='mso-ansi-language:EN-US'>CRUD</span><span
lang=EN-US> </span>доступ к некоторым ресурсам/предметным сущностям (счета,
карты, компании и т.д.).</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Кроме соглашения на <span lang=EN-US style='mso-ansi-language:
EN-US'>CRUD</span><span lang=EN-US> </span>по ресурсу, есть также ряд некоторых
соглашений:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Сервис, предоставляющий доступ к ресурсу/предметной сущности,
должен предоставлять не больше одного метода для получения информации об одном
экземпляре данного ресурса и не больше одного метода для получения списка
экземпляров ресурса. То есть не должно быть метода получения отдельного
атрибута сущности. Для примера:</p>

<p class=Body>не должно быть отдельного метода получения данных о базовой
информации по счету</p>

<p class=Body>не должно быть отдельного метода получения информации кто
владелец счета</p>

<p class=Body>не должно быть отдельного метода получения баланса счета</p>

<p class=Body>не должно быть отдельного метода получения сведений что за банк
контролирует этот счет</p>

<p class=Body>должен быть один метод для получения ВСЕЙ доступной информации).
Для облегчения работы сервиса в качестве параметра вызова он может принимать <span
lang=FR style='mso-ansi-language:FR'>Projection - </span>некий <span
class=SpellE>обьект</span>, рассказывающий, какие именно поля нужно вернуть.</p>

<p class=Body>Сервис, работающий с определенной предметной сущностью, не должен
возвращать несколько предметных сущностей, даже если они связаны. То есть если
нужны данные счета и данные его владельца, то сервис по счетам должен вернуть
только данные счета и не должен возвращать данные владельца. В данных счета
можно указать привязку к владельцу( в виде <span class=SpellE>id</span> ),
чтобы потребитель сервиса мог сходить к <span class=SpellE>соответсвующему</span>
сервису по выданному <span class=SpellE>id</span>.</p>

<p class=Body>Тестирование</p>

<p class=Body>Тесты должны быть документацией на сервис</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Если я хочу узнать, как мне сервис ответит на мой запрос (к
примеру, в каком формате вернет счета, если я кину код клиента), я иду в тесты
и смотрю на тест этой истории (тест истории &quot;По коду клиента вернуть
список счетов&quot;).</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Этот же подход позволит проще <span class=SpellE>генеририть</span>
более читабельную документацию, потому что истории будут <span lang=EN-US
style='mso-ansi-language:EN-US'>user</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>friendly</span> - я хочу проверить
права на создание платежки, поэтому я кидаю запрос с правом <span lang=EN-US
style='mso-ansi-language:EN-US'>CREATE</span>_<span lang=EN-US
style='mso-ansi-language:EN-US'>PAYMENT</span><span lang=EN-US> </span>и только
<span lang=EN-US style='mso-ansi-language:EN-US'>CREATE</span>_<span
lang=EN-US style='mso-ansi-language:EN-US'>PAYMENT</span>, получаю
соответствующий ответ, в зависимости от условий.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Если вместо этого предлагается идти в историю вида &quot;<span
lang=EN-US style='mso-ansi-language:EN-US'>should</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>call</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>services</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>with</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>correct</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>parameters</span>&quot;, которых
обычно немало и которая по названию никак не <span class=SpellE>мапится</span>
с задачей проверить <span lang=EN-US style='mso-ansi-language:EN-US'>CREATE</span>_<span
lang=EN-US style='mso-ansi-language:EN-US'>PAYMENT</span>, и искать в этой
истории, кидается ли код <span lang=EN-US style='mso-ansi-language:EN-US'>CREATE</span>_<span
lang=EN-US style='mso-ansi-language:EN-US'>PAYMENT</span>, и какой же из
ответов ему соответствует, то это вызовет путаницу и трату времени на поиск и
понимание, а также сгенерирует неудобную документацию.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Конечная цель этих тестов - гарантировать что сервис выполняет
целевой набор <span class=SpellE>бизнес-историй</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>BDD</span><span
lang=EN-US> </span>тесты должны описывать свое поведение с точки зрения
потребителя, который о внутренностях сервиса ничего не знает, он не идет с
вопросом &quot;А какие проверки будут <span class=SpellE>фейлиться</span>, если
у меня нет доступа к счетам?&quot;. Потребитель идет с вопросом &quot;В каких
случаях у меня будет <span class=SpellE>фейлиться</span> проверка на
CREATE_PAYMENT?&quot;.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Проверить <span lang=EN-US style='mso-ansi-language:EN-US'>CREATE</span>_<span
lang=EN-US style='mso-ansi-language:EN-US'>PAYMENT</span><span lang=EN-US> </span>и
вернуть <span lang=EN-US style='mso-ansi-language:EN-US'>OK</span>, если есть
доступ и не <span class=SpellE>заблочен</span> <span class=SpellE>юзер</span> -
это нормальная бизнес-история, которая несет пользу.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Как <span class=SpellE>антипример</span>, &quot;<span lang=EN-US
style='mso-ansi-language:EN-US'>should</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>call</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>services</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>with</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>correct</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>parameters</span>&quot; - это <span
class=SpellE>вобще</span> не бизнес-история, в которой мы не гарантируем
ничего. Ну вызвали мы сервис с правильным параметрами, ответ-то сервиса
правильный с точки зрения бизнеса? нужный ли? если нужный, то для чего?</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Как пример, есть два вызова получения списка депозитных
предложений, которые отличаются только кодом в запросе, и это тем не менее две
нормальные истории:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>should return
deposits list<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>should return <span
class=SpellE>nso</span> list<o:p></o:p></span></p>

<p class=Body>Достаточно крутой <span class=SpellE>тулинг</span> для тестов как
доки прикрутили АМ <span lang=IT style='mso-ansi-language:IT'>-
NonFinancialControllerNewSpec.groovy.</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Про этот <span class=SpellE>тулинг</span> и почему
документировать надо тестами - запись <span class=SpellE>вебинара</span> от <span
class=SpellE>чувака</span>, который <span class=SpellE>лидит</span> разработку
половины того, что мы используем - <span lang=EN-US style='mso-ansi-language:
EN-US'>https</span>://<span lang=EN-US style='mso-ansi-language:EN-US'>www</span>.<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>youtube</span></span>.<span
lang=EN-US style='mso-ansi-language:EN-US'>com</span>/<span lang=EN-US
style='mso-ansi-language:EN-US'>watch</span>?<span lang=EN-US style='mso-ansi-language:
EN-US'>v</span>=<span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>knH</span></span>5<span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>ihPNiUs</span></span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Подробный и детальный <span class=SpellE>туториал</span> - <a
href="https://www.tothepoint.company/blog/spring-rest-doc/"><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>https</span>://</span><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>www</span>.</span><span
class=SpellE><span class=Hyperlink0><span lang=EN-US style='mso-ansi-language:
EN-US'>tothepoint</span></span></span><span class=Hyperlink0>.</span><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>company</span>/</span><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>blog</span>/</span><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>spring</span>-</span><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>rest</span>-</span><span
class=Hyperlink0><span lang=EN-US style='mso-ansi-language:EN-US'>doc</span>/</span></a>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><b><span style='font-size:13.0pt'>Правило 80/20<o:p></o:p></span></b></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>20% времени <span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>DevTeam</span></span><span lang=EN-US> </span>остается на:</p>

<p class=Body>технические задачи от ЦК</p>

<p class=Body>анализ и исправление инцидентов на <span lang=FR
style='mso-ansi-language:FR'>production, </span>которые не относятся к
конкретной команде</p>

<p class=Body>исправление критичных дефектов, которые не относятся к конкретной
команде</p>

<p class=Body>другие непредвиденные отвлечения от разработки новых задач</p>

<p class=Body>все это в сумме должно укладываться в 20%.</p>

<p class=Body>При планировании продуктового спринта, в него добавляются задачи
ЦК самим разработчиком, либо командой. Задачи от ЦК с целью обеспечения их
учета и прозрачности добавляются на <span lang=PT style='mso-ansi-language:
PT'>Jira </span>доску команды.</p>

<p class=Body>Подход привлечения сотрудника <span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>DevTeam</span></span><span
lang=EN-US> </span>к техническим задачам остается гибким, исключительные случае
решаем индивидуально. От внедрения практики обязательного еженедельного
отвлечения сотрудников из команды отказываемся.</p>

<p class=Body>Исправление критичных дефектов, которые не относятся к конкретной
команде - если время исправления дефекта укладывается в 1 день. Если
исправление дефекта требует больше 1 <span class=SpellE>дняm</span>, то кейс
выносится на обсуждение с бизнесом.</p>

<p class=Body>Договоренности для НИБ - 80/20.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Презентация, правда от ЦК Мобильной разработки, но ее можно
использовать для демонстрации эффекта бизнесу.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><b><span style='font-size:13.0pt'>Общие правила <span
class=SpellE>код-ревью</span> для проектов </span></b><b><span lang=EN-US
style='font-size:13.0pt;mso-ansi-language:EN-US'>java</span></b><b><span
style='font-size:13.0pt'>-</span></b><b><span lang=EN-US style='font-size:13.0pt;
mso-ansi-language:EN-US'>cucumber</span></b><b><span style='font-size:13.0pt'><o:p></o:p></span></b></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Процесс <span class=SpellE>код-ревью</span></p>

<p class=Body>Если в команде автоматизации тестирования на проекте более 1
человека, необходимо организовать процесс <span class=SpellE>код-ревью</span>.</p>

<p class=Body>В зависимости от кол-ва людей можно выбрать следующие схемы:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Сотрудники проверяют друг друга. В <span class=SpellE>ревью</span>
участвует 1 человек (подходит, если на проекте 2-3 <span class=SpellE>автотестировщика</span>).</p>

<p class=Body>Сотрудники проверяют друг друга + второе <span class=SpellE>ревью</span>
проводит <span class=SpellE>тим</span> <span class=SpellE>лид</span> команды. В
<span class=SpellE>ревью</span> участвует 2 человека (подходит, если на проекте
3 и более <span class=SpellE>автотестировщиков</span>).</p>

<p class=Body>2 сотрудника делают <span class=SpellE>ревью</span>. После
исправления всех замечаний <span class=SpellE>тим</span> <span class=SpellE>лид</span>
проводит окончательное <span class=SpellE>ревью</span>. В <span class=SpellE>ревью</span>
участвует 3 человека (подходит, если на проекте 4 и более <span class=SpellE>автотестировщиков</span>).</p>

<p class=Body>Правила для разработчиков</p>

<p class=Body>Правила написания <span class=SpellE>автотестов</span> и
оформление <span lang=EN-US style='mso-ansi-language:EN-US'>feature</span>-файлов</p>

<p class=Body>Делать сценарии независимыми друг от друга в рамках одного <span
lang=EN-US style='mso-ansi-language:EN-US'>feature</span>-файла.</p>

<p class=Body>Чтобы исключить ситуацию, когда падает один сценарий и из-за
этого все последующие.</p>

<p class=Body>Разбивать тесты с большим кол-вом сценариев на несколько <span
lang=EN-US style='mso-ansi-language:EN-US'>feature</span>-файлов.</p>

<p class=Body>По возможности сделать так, чтобы одна <span class=SpellE>фича</span>
выполнялась не более 10 минут (число 10 - условное, здесь нужно отталкиваться
от проекта).</p>

<p class=Body>Грамотно использовать функционал <span lang=EN-US
style='mso-ansi-language:EN-US'>cucumber</span>-а: Предыстория, Сценарий,
Структура сценария.</p>

<p class=Body>Например, если все сценарии в <span class=SpellE>фиче</span>
имеют общие начальные действия, то логично эти действия вынести в Предысторию.</p>

<p class=Body>Правила оформления <span class=SpellE>пулл</span> <span
class=SpellE>реквестов</span> и работа с гитом</p>

<p class=Body><span class=SpellE>Пулл</span> <span class=SpellE>реквест</span>
создается только после того, как полностью закончили разработку и проверили на
работоспособность.</p>

<p class=Body>После создания <span class=SpellE>пулл</span> <span class=SpellE>реквеста</span>
необходимо зайти в него и убедиться, что не добавили случайно что-нибудь
лишнее.</p>

<p class=Body><span class=SpellE>Коммиты</span> называть логично, не просто <span
class=SpellE>наборомом</span> символов.</p>

<p class=Body>Плохие примеры: &quot;12421&quot;, &quot;<span class=SpellE>fix</span>&quot;,
&quot;<span class=SpellE>test</span>&quot;. Хорошие примеры: &quot;Написан
новый тест 10.01&quot;, &quot;<span class=SpellE>Пофиксил</span> метод <span
lang=EN-US style='mso-ansi-language:EN-US'>check</span>_<span lang=EN-US
style='mso-ansi-language:EN-US'>element</span>&quot;, &quot;Добавил нового
клиента в тест ХХ.ХХ&quot;.</p>

<p class=Body>После того как проверяющий оставил все комментарии к <span
class=SpellE>пулл</span> <span class=SpellE>реквесту</span>, не добавлять новых
изменений(<span class=SpellE>info</span>)</p>

<p class=Body>Разрешаются только изменения в рамках исправления замечаний по
комментариям.</p>

<p class=Body>Лучше делать больше &quot;небольших&quot; <span class=SpellE>пулл</span>
<span class=SpellE>реквестов</span>, чем один с большим количеством новых
доработок.</p>

<p class=Body>Чем меньше объем изменений - тем <span class=SpellE>качественне</span>
и быстрее будет происходить процесс <span class=SpellE>ревью</span>.</p>

<p class=Body>Для каждого модуля создать свою ветку и работать в ней. После
чего делать <span class=SpellE>пулл</span> <span class=SpellE>реквест</span> в <span
class=SpellE>master</span>.</p>

<p class=Body>Правила написания кода</p>

<p class=Body>Избегать использование <span lang=EN-US style='mso-ansi-language:
EN-US'>sleep</span>. Использовать только для отладки.</p>

<p class=Body>Придерживаться общепринятых стандартов стиля написания кода на
языке <span class=SpellE>Java</span>.</p>

<p class=Body>Оставлять как можно больше комментариев в коде.</p>

<p class=Body>Не всё, что очевидно для вас сейчас, будет очевидно через
месяц/полгода/год. И так же это может быть не очевидно для ваших коллег.</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>XML</span>, <span
lang=EN-US style='mso-ansi-language:EN-US'>JSON</span>, большие SQL-запросы и
т. д.<span style='mso-spacerun:yes'>  </span>выносить из кода в отдельные
файлы.</p>

<p class=Body>По возможности хранить тестовые данные и настройки отдельно от
кода - выносить в конфигурационные файлы.</p>

<p class=Body>По возможности создавать в <span class=SpellE>автотестах</span>
тестовые данные.</p>

<p class=Body><span class=SpellE>Логировать</span> как можно больше информации
в коде, чтобы в случае падения теста получать больше информации.</p>

<p class=Body>Например, выводить информацию в виде &quot;Ожидаемый и
фактический результат&quot;, а не просто сообщением &quot;Проверка
провалилась&quot;.</p>

<p class=Body>Проверить, что у цикла есть запасное условие выхода. </p>

<p class=Body>Например, есть цикл, который выполняет клик по кнопке, пока она
не пропадет с экранной формы. Может возникнуть ситуация, когда после клика по
кнопке, она не пропадет (из-за дефекта или новой доработки).</p>

<p class=Body>В цикл нужно добавить дополнительное условие выхода - например,
завершить цикл после 5 кликов.</p>

<p class=Body>Правила для проверяющего</p>

<p class=Body>Максимально ответственно подходить к процессу <span class=SpellE>ревью</span>.
Проводить <span class=SpellE>ревью</span> &quot;на свежую голову&quot;.</p>

<p class=Body>На время <span class=SpellE>ревью</span> отложить другие задачи,
чтобы не <span class=SpellE>отвелкаться</span>.</p>

<p class=Body>Проверить, что все изменения в <span class=SpellE>пулл</span> <span
class=SpellE>реквесте</span> придерживаются общих правил (см. выше) и правил
написания на проекте.</p>

<p class=Body>Проверить, что разработчик придерживается стиля написания ЯП (<span
class=SpellE>Java</span>) - название переменных и классов, отступы и т.д.</p>

<p class=Body>Проверить, что в не самых очевидных местах в коде разработчик
оставил комментарии.</p>

<p class=Body>Проверить соответствие шагов <span class=SpellE>тест-кейса</span>
и <span class=SpellE>автотеста</span>. Убедиться, что все действия и ожидаемые
результаты присутствуют в <span class=SpellE>автотесте</span>.</p>

<p class=Body>Важно обратить внимание - не всегда действия находятся на
поверхности (в <span class=SpellE>фиче</span>).</p>

<p class=Body>Например шаг &quot;Проверили наличие всех полей на странице&quot;
требует погрузиться в код для сверки наличия требуемых полей в <span
class=SpellE>тест-кейсе</span> и в АТ.</p>

<p class=Body>Проверить, что к ПР приложен результат прогона <span
class=SpellE>автотестов</span> локально (в виде <span class=SpellE>скриншота</span>
или ссылки на отчет в <span lang=PT style='mso-ansi-language:PT'>ReportPortal).</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><b><span style='font-size:13.0pt'>Изменения, вносимые в проект,
желательно покрыть unit-тестами.<o:p></o:p></span></b></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>В первую очередь стоит обратить внимание на:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>тесты для контрактов - протестировать формат ответа контроллеров,</p>

<p class=Body>результат работы <span class=SpellE>мапперов</span> для
использующихся внутри приложения сущностей. </p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Менять существующие тестовые данные можно только в случае
изменения кода, для тестирования которого они предназначены. </p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Тестовые объекты желательно не собирать руками используя <span
class=SpellE>new</span>(), лучше использовать <span lang=FR style='mso-ansi-language:
FR'>ObjectMapper </span>и <span class=SpellE>XmlMapper</span>, скармливая им .<span
class=SpellE>json</span> и .<span class=SpellE>xml</span> файлы с необходимыми
данными, в идеале с реальными примерами, взятыми из логов работы системы. </p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Тесты для контроллеров</p>

<p class=Body>Для тестирования контроллера можно использовать аннотацию <span
lang=DE style='mso-ansi-language:DE'>@<span class=SpellE>WebMvcTest</span>, </span>она
позволит сконфигурировать необходимый объект <span class=SpellE>MockMvc</span>
и поднимет в <span lang=EN-US style='mso-ansi-language:EN-US'>Spring</span><span
lang=EN-US> </span>контексте только <span class=SpellE>бины</span>, необходимые
для работы <span lang=EN-US style='mso-ansi-language:EN-US'>web</span><span
lang=EN-US> </span>слоя. </p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>В тесте НЕОБХОДИМО проверить ответ, полученный от контроллера.
Это можно сделать с помощью выражения .<span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>andExpect</span></span>(<span lang=EN-US
style='mso-ansi-language:EN-US'>content</span>().<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>json</span></span>(<span lang=EN-US
style='mso-ansi-language:EN-US'>response</span>)), где <span lang=EN-US
style='mso-ansi-language:EN-US'>response</span> - это <span lang=EN-US
style='mso-ansi-language:EN-US'>String</span>, <span lang=EN-US
style='mso-ansi-language:EN-US'>c</span><span class=SpellE>одержащий</span>
желаемый ответ в необходимом формате.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Такой ответ можно подгрузить любым способом из файла,
содержащегося в тестовых ресурсах. </p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Пример<span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>String response
= <span class=SpellE>getFile</span>(<span class=SpellE>myCoolResponse.json</span>);<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>mockMvc.perform</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'>(get(&quot;/deposits&quot;)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>.<span class=SpellE>contentType</span>(APPLICATION_JSON_VALUE)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>.<span class=SpellE>param</span>(&quot;<span
class=SpellE>clientId</span>&quot;, &quot;ASSR52&quot;))<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>.<span class=SpellE>andExpect</span>(content().<span
class=SpellE>json</span>(response)) // </span>проверяем<span style='mso-ansi-language:
EN-US'> </span>ответ<span lang=EN-US style='mso-ansi-language:EN-US'>!<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>.<span class=SpellE>andExpect</span>(status().<span
class=SpellE>isOk</span>());<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body>Тесты<span style='mso-ansi-language:EN-US'> </span>для<span
style='mso-ansi-language:EN-US'> </span><span class=SpellE>мапперов</span><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body>В тестах для <span class=SpellE>мапперов</span> можно обойтись
без <span lang=EN-US style='mso-ansi-language:EN-US'>Spring</span><span
lang=EN-US> </span>контекста, достаточно обычного <span class=SpellE>junit</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Следует проверять результат фактической работы <span
class=SpellE>маппера</span> с заданным желаемым объектом.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Тесты <span class=SpellE>микросервиса</span></p>

<p class=Body>Проверить поведение всех компонентов приложения в связке можно
благодаря аннотации @<span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>SpringBootTest</span></span>. Таким образом мы можем проверить поведение
приложения от момента запроса на контроллер до момента получения ответа не <span
class=SpellE>мокая</span> поведение <span class=SpellE>бинов</span> приложения.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Для этого нам необходимо создать <span class=SpellE>моки</span>
всех использующихся в процессе внешних вызовов, использую <span class=SpellE><span
lang=DE style='mso-ansi-language:DE'>wiremock</span></span><span lang=DE
style='mso-ansi-language:DE'>. </span>Для тестирования процессов, требующих
подключения к <span class=SpellE>mongodb</span> <span class=SpellE>исполользуется</span>
<span lang=EN-US style='mso-ansi-language:EN-US'>embedded</span><span
lang=EN-US> </span><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>mongodb</span></span>, также допустимо использование тест контейнеров
(?).</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>В случае если мы не хотим поднятия в контексте <span
class=SpellE>бинов</span>, не <span class=SpellE>задействованых</span>
фактически в наших тестах, можно задать для аннотации @<span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>SpringBootTest</span></span><span
lang=EN-US> </span>конфигурацию, настроенную на ленивое сканирование <span
class=SpellE>бинов</span> из корневого пакета, например:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Пример<span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=IT style='mso-ansi-language:IT'>@SpringBootTest(classes
= LazyTestConfig.class)</span><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=Body><span lang=FR style='mso-ansi-language:FR'>@Configuration</span><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>@<span
class=SpellE>ComponentScan</span>(<span class=SpellE>lazyInit</span> = true, <span
class=SpellE>basePackages</span> = &quot;<span class=SpellE>ru.alfabank.ufr.your.root.package</span>&quot;)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public class <span
class=SpellE>LazyTestConfig</span> {<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><b><span lang=IT style='font-size:13.0pt;mso-ansi-language:IT'>Java
style guide.</span></b><b><span lang=EN-US style='font-size:13.0pt;mso-ansi-language:
EN-US'><o:p></o:p></span></b></p>

<p class=Body>Введение.</p>

<p class=Body>Приведенные здесь рекомендации предназначены для улучшения
читабельности кода и обеспечения его единообразия. Однако, иногда рекомендации
из руководства не применимы. В случае сомнений, руководствуйтесь здравым
смыслом. Посмотрите на примеры кода и выберите то, что выглядит лучше.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Рекомендации сгруппированы по темам, и каждая рекомендация
пронумерована, чтобы на нее было проще ссылаться во время <span class=SpellE>ревью</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Шаблон рекомендации следующий:</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span class=SpellE>n</span>. Краткое описание рекомендации</p>

<p class=Body>//Пример кода, если необходимо</p>

<p class=Body>Мотивация, пояснения или какая-либо дополнительная информация</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Содержание</p>

<p class=Body>Общие рекомендации.</p>

<p class=Body>Именование</p>

<p class=Body>Импорты</p>

<p class=Body>Выражения</p>

<p class=Body>Отступы</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Best</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Practice</span>.</p>

<p class=Body>Частые замечания на PR</p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>Checkstyle</span></span></p>

<p class=Body>1. Общие рекомендации.</p>

<p class=Body>1.1. Допускается любое нарушение руководства, если оно улучшает
читаемость.</p>

<p class=Body>Основная цель рекомендации - улучшить читаемость, понимание и
общее качество кода.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>2 Именование.</p>

<p class=Body>2.1 Избегайте специальных символов при именовании пакетов</p>

<p class=Body>Имена пакетов должны быть в нижнем регистре без подчеркивания или
других специальных символов.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>2.2 Не используйте множественное число при именовании пакетов</p>

<p class=Body>Не используйте множественное число. Следуйте соглашению
стандартного API. <span class=SpellE>java.util</span> <span class=SpellE>not</span>
<span class=SpellE>java.utils</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>2.3 Имена классов должны быть существительными.</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>class Car {} //
PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>class Running {}
// AVOID<o:p></o:p></span></p>

<p class=Body>2.4 Имена интерфейсов должны быть существительными или прилагательными
с окончанием <span lang=EN-US style='mso-ansi-language:EN-US'>able</span><span
lang=EN-US> </span>и не должны начинаться с I</p>

<p class=Body><span class=SpellE><span lang=DE style='mso-ansi-language:DE'>interface</span></span><span
lang=DE style='mso-ansi-language:DE'> <span class=SpellE>Runnable</span> {} //
PREFER</span><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>interface <span
class=SpellE>IEnumerable</span> {} // AVOID. </span>Привет <span class=SpellE>шарпистам</span></p>

<p class=Body>2.5 В именах классов, переменных и интерфейсов не должно быть
нескольких заглавных букв подряд.</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>class <span
class=SpellE>XmlParser</span> {} // PREFER<o:p></o:p></span></p>

<p class=Body><span class=SpellE><span lang=DE style='mso-ansi-language:DE'>class</span></span><span
lang=DE style='mso-ansi-language:DE'> <span class=SpellE>XMLParser</span> {} //
AVOID</span><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>class <span
class=SpellE>IOStream</span> {} // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>class <span
class=SpellE>IoStream</span> {} // AVOID<o:p></o:p></span></p>

<p class=Body>Используя аббревиатуры в наименовании руководствуйтесь следующими
правилами*</p>

<p class=Body>Аббревиатура входит в наименование в верхнем регистре, если она
состоит из двух слов</p>

<p class=Body>Аббревиатура входит в наименование только с первой буквой в
верхнем регистре, если она состоит из трех и более слов</p>

<p class=Body>2.6 Имена методов должны быть глаголами или описывать действие</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public String <span
class=SpellE>getName</span>() {} // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=NL style='mso-ansi-language:NL'>public String name()
{} // AVOID</span><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public void
expand() {} // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public <span
class=SpellE>boolean</span> expanding() {} // AVOID<o:p></o:p></span></p>

<p class=Body>2.7 Имена переменных должны быть в <span lang=IT
style='mso-ansi-language:IT'>CamelCase </span>и начинаться с нижнего регистра</p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>int</span></span><span lang=EN-US style='mso-ansi-language:EN-US'> <span
class=SpellE>currentValue</span>; // PREFER<o:p></o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>int</span></span><span lang=EN-US style='mso-ansi-language:EN-US'> <span
class=SpellE>PreviousValue</span>; // AVOID<o:p></o:p></span></p>

<p class=Body>2.8 Имена констант должны быть в верхнем регистре, разделяться <span
class=SpellE>c</span> помощью <span lang=EN-US style='mso-ansi-language:EN-US'>_
</span>и<span style='mso-ansi-language:EN-US'> </span>быть<span
style='mso-ansi-language:EN-US'> <span lang=EN-US>static final<o:p></o:p></span></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public static
final BUFFER_SIZE = 1024; // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public final
ARRAY_SIZE = 10; // AVOID <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>3. </span>Импорты<span
lang=EN-US style='mso-ansi-language:EN-US'>.<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>3.1 </span>Не<span
style='mso-ansi-language:EN-US'> </span>используйте<span style='mso-ansi-language:
EN-US'> </span>неявный<span style='mso-ansi-language:EN-US'> </span>импорт<span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>import <span
class=SpellE>some.java.package.ParticularClass</span>; // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>import <span
class=SpellE>some.java.package</span>.*; // AVOID<o:p></o:p></span></p>

<p class=Body>Есть<span style='mso-ansi-language:EN-US'> </span>исключение<span
style='mso-ansi-language:EN-US'> </span>для<span style='mso-ansi-language:EN-US'>
</span>пакета<span lang=EN-US style='mso-ansi-language:EN-US'> <span
class=SpellE>java.util</span><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span class=SpellE>import</span> <span class=SpellE>java.util</span>.*;</p>

<p class=Body>Чтобы улучшить читаемость, неявный импорт следует заменить явным.
Настройка импорта в <span class=SpellE>ide</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>3.2 Не оставляйте неиспользуемых импортов в коде.</p>

<p class=Body>4. Выражения.</p>

<p class=Body>4.1 Размерность логического выражения не должна превышать 3</p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>boolean</span></span><span lang=EN-US style='mso-ansi-language:EN-US'> <span
class=SpellE>good_exp</span> = (!a &amp;&amp; b) | (a || !b) ^ a; // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>boolean</span></span><span lang=EN-US style='mso-ansi-language:EN-US'> <span
class=SpellE>bad_exp</span> = (a &amp;&amp; b) &amp;&amp; c &amp;&amp; (c ||
b); // AVOID 3(&amp;&amp;) + 1(||) = 4<o:p></o:p></span></p>

<p class=Body>Слишком много условий приводит к тому, что код трудно читать,
отлаживать и поддерживать.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>4.2 Избегайте объявлений массивов в стиле С</p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>int</span></span><span lang=EN-US style='mso-ansi-language:EN-US'>[] <span
class=SpellE>nums</span>; // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>String <span
class=SpellE>strs</span>[]; // AVOID<o:p></o:p></span></p>

<p class=Body>4.3 Модификаторы доступа должны следовать определенному порядку.</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>1. public <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>2. protected<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>3. private<o:p></o:p></span></p>

<p class=Body><span lang=IT style='mso-ansi-language:IT'>4. static</span><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>5. final<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>6. transient<o:p></o:p></span></p>

<p class=Body><span lang=IT style='mso-ansi-language:IT'>7. volatile</span></p>

<p class=Body>8. <span lang=EN-US style='mso-ansi-language:EN-US'>synchronized</span></p>

<p class=Body>4.4 Не следует указывать модификаторы, если они неявны</p>

<p class=Body>Например, методы интерфейса не следует объявлять <span
lang=EN-US style='mso-ansi-language:EN-US'>public</span><span lang=EN-US> </span>или
<span lang=EN-US style='mso-ansi-language:EN-US'>abstract</span>, а вложенные
перечисления и интерфейсы не следует объявлять <span class=SpellE>static</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>4.5 Используйте ссылку на метод, вместо <span class=SpellE>лямбда-функции</span>,
где это имеет смысл</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>filter(<span
class=SpellE>someStrings</span>::contains); // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>filter(s -&gt; <span
class=SpellE>someStrings.contains</span>(s)); // AVOID<o:p></o:p></span></p>

<p class=Body>4.6 Инкапсулируйте логику больших <span class=SpellE>лямбда-функций</span>
в методы</p>

<p class=Body>4.7 Используйте <span lang=EN-US style='mso-ansi-language:EN-US'>guard</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>expression</span><span
lang=EN-US> </span>на входе в метод, вместо вложенности условий</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public void <span
class=SpellE>someMethod</span>() { // PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>if (!condition) { <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>throw e;<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=SpellE>doSomething</span>();<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public void <span
class=SpellE>someMethod</span>() { // AVOID<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>if (condition) { <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span><span class=SpellE>doSomething</span>();<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>} else {<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>        </span>throw e;<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span></span>}</p>

<p class=Body>}</p>

<p class=Body>5. Отступы.</p>

<p class=Body>5.1 Размер строки не должен превышать 140 символов включая
отступы</p>

<p class=Body>5.2 Разбивайте выражения которые не влезают в 140 символов</p>

<p class=Body>Когда выражение не умещается в 140 символов, разбейте ее
основываясь на следующих принципах</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Разделяйте выражение после запятой</p>

<p class=Body>Разделяйте выражение перед операторами</p>

<p class=Body>Сопоставьте новую строку с началом выражения на том же уровне на
предыдущей строке.</p>

<p class=Body>5.3 Не используйте горизонтальное выравнивание переменных</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>class</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Entity</span>
{</p>

<p class=Body><span style='mso-spacerun:yes'>    </span><span lang=EN-US
style='mso-ansi-language:EN-US'>public String name;<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>public <span class=SpellE>int</span> age;
// PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public class
Entity {<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>public String name;<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>public <span class=SpellE>int</span><span
style='mso-spacerun:yes'>     </span>age; // AVOID<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>6. Best
Practice.<o:p></o:p></span></p>

<p class=Body>6.1 Указывать аннотации <span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>NotNull</span></span>, <span class=SpellE><span
lang=EN-US style='mso-ansi-language:EN-US'>Nullable</span></span><span
lang=EN-US> </span>для библиотек</p>

<p class=Body>Сейчас у нас все больше распространяется <span class=SpellE>Kotlin</span>,
поэтому все чаще код на нем вызывает код библиотек, что еще написаны на <span
class=SpellE>Java</span>. Чтобы не <span class=SpellE>использзовать</span> вещи
типа !! для того, чтобы избежать проблем с совместимостью, надо <span
lang=EN-US style='mso-ansi-language:EN-US'>public</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>static</span><span lang=EN-US> </span>методы,
<span class=SpellE>интерфейс-методы</span>, поля <span lang=PT
style='mso-ansi-language:PT'>DTO </span>библиотек обозначать аннотациями,
которые подскажут <span class=SpellE>Kotlin</span> как обработать тип.
Подробнее про это можно почитать в документации <span class=SpellE>Kotlin</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>6.2 Используйте интерфейсы с умом</p>

<p class=Body>Интерфейсы отделяют функциональность от реализации, что позволяет
использовать несколько реализаций не меняя сигнатуру потребителя. Так же
интерфейсы - это отличный способ изолировать реализацию, предоставляя интерфейс
для взаимодействия.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Используйте интерфейсы когда</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Планируется несколько реализаций схожих по смыслу сервисов</p>

<p class=Body>Необходимо отделить интерфейсы друг от друга для того, чтоб код
был более прозрачным (<span lang=EN-US style='mso-ansi-language:EN-US'>Interface</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>Segregation</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>principle</span>)</p>

<p class=Body>Необходимо явно указать что может объект. Примерами таких
интерфейсов являются <span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>Clonable</span></span><span lang=EN-US> </span>и <span lang=ES-TRAD
style='mso-ansi-language:ES-TRAD'>Comparable</span></p>

<p class=Body>6.3 Избегайте использования <span lang=EN-US style='mso-ansi-language:
EN-US'>Utility</span><span lang=EN-US> </span>классов</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Utility</span><span
lang=EN-US> </span>классы зачастую идут в разрез с принципами <span lang=IT
style='mso-ansi-language:IT'>SOLID, </span>а именно с <span lang=EN-US
style='mso-ansi-language:EN-US'>Single</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Responsibility</span><span
lang=EN-US> </span>и <span lang=EN-US style='mso-ansi-language:EN-US'>Open</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>Closed</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>Principle</span>.</p>

<p class=Body>Если вы все таки решились вынести какую-то логику в <span
lang=EN-US style='mso-ansi-language:EN-US'>Utility</span><span lang=EN-US> </span>класс,
задумайтесь, возможно, она может принадлежать уже существующему классу.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>6.4 Инкапсулируйте повторяющиеся последовательности
преобразования или участки кода в методы</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>// PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Flux&lt;<span
class=SpellE>OtherEntity</span>&gt; <span class=SpellE>filterAndConvert</span>(Flux&lt;Entity&gt;
entities) {<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>return <span class=SpellE>entities.filter</span>(<span
class=SpellE>Utils</span>::predicate)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>          </span>.map(Converter::<span class=SpellE>convertToOtherEntity</span>)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>someEntityFlux</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.<span class=SpellE>flatMap</span>(/*
converting */)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.transform(this::<span class=SpellE>filterAndConvert</span>)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>otherEntityFlux</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>.map(/* do something */)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>.transform(this::<span class=SpellE>filterAndConvert</span>)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>//------------------------------------------------------------<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>// AVOID<o:p></o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>someEntityFlux</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.<span class=SpellE>flatMap</span>(/*
converting */)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.filter(<span class=SpellE>Utils</span>::predicate)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.map(Converter::<span class=SpellE>convertToOtherEntity</span>)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>otherEntityFlux</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.map(/* do something */)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span>.filter(<span class=SpellE>Utils</span>::predicate)<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>   </span></span>.<span lang=EN-US style='mso-ansi-language:
EN-US'>map</span>(<span lang=EN-US style='mso-ansi-language:EN-US'>Converter</span>::<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>convertToOtherEntity</span></span>)</p>

<p class=Body>Метод <span lang=PT style='mso-ansi-language:PT'>transform </span>позволяет
применять инкапсулированные последовательности преобразований.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>6.5 Не забывайте про принцип YAGNI</p>

<p class=Body>Не стоит реализовывать функционал, который сейчас не нужен</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>7. Частые замечания на PR.</p>

<p class=Body>7.1 <span class=SpellE>Валидация</span> полей</p>

<p class=Body>7.1.1 Используйте @<span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>NotBlank</span></span><span lang=EN-US> </span>для
<span class=SpellE>валидации</span> текстовых полей</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Аннотация @<span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>NotBlank</span></span><span lang=EN-US> </span>применяется только для
текстовых полей и проверяет, что свойство не является <span class=SpellE>null</span>
или пустой строкой</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>7.1.2 Используйте @<span class=SpellE><span lang=EN-US
style='mso-ansi-language:EN-US'>NotEmpty</span></span><span lang=EN-US> </span>для
<span class=SpellE>валидации</span> коллекций</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>Аннотация @<span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>NotEmpty</span></span><span lang=EN-US> </span>проверяет, что поле не
является <span class=SpellE>null</span> или пустым</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>7.2 Не используйте блокирующие вызовы в асинхронном коде</p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>Mono <span
class=SpellE>blockingWrapper</span> = <span class=SpellE>Mono.fromCallable</span>(()
-&gt; { <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>return /* make a remote synchronous call */
<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>});<o:p></o:p></span></p>

<p class=Body><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>blockingWrapper</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'> = <span class=SpellE>blockingWrapper.subscribeOn</span>(<span
class=SpellE>Schedulers.boundedElastic</span>());<o:p></o:p></span></p>

<p class=Body>Старайтесь избегать блокирующих вызовов в асинхронном коде,
однако если не удается избежать таких вызовов - используйте обертку указанную
выше. Подробнее тут</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>7.3 Старайтесь избегать использования <span class=SpellE><span
lang=DE style='mso-ansi-language:DE'>Mono#zip</span></span><span lang=DE
style='mso-ansi-language:DE'> </span>вместе с <span class=SpellE>map</span></p>

<p class=Body><span lang=IT style='mso-ansi-language:IT'>Mono.zip(fistInvocation,
secondInvocation, ZipMerger::merge) // PREFER</span></p>

<p class=Body><span lang=NL style='mso-ansi-language:NL'>Mono.zip(fistInvocation,
secondInvocation).map(ZipMerger::merge) // AVOID</span><span lang=EN-US
style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body>7.4 Прежде чем создавать свой <span class=SpellE><span lang=DE
style='mso-ansi-language:DE'>Feign</span></span><span lang=DE style='mso-ansi-language:
DE'> </span>клиент, проверьте его наличие в <span class=SpellE>репозитории</span>
<span lang=EN-US style='mso-ansi-language:EN-US'>client</span>-<span
lang=EN-US style='mso-ansi-language:EN-US'>gateway</span>-<span lang=EN-US
style='mso-ansi-language:EN-US'>starter</span></p>

<p class=Body>Если его там нет, то подумайте/спросите, возможно, его стоит
создать там, а не в своей <span class=SpellE>апишке</span></p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body>7.5 Не использовать контейнеры <span lang=FR style='mso-ansi-language:
FR'>Tuple, Pair &amp; etc </span>в контракте</p>

<p class=Body>Не использовать контейнеры, что не отражают намерения в
контрактах классов/интерфейсов. Контракт должен отражать то, что делает
компонент его реализующий. Нужда смотреть реализацию, которую такой код
порождает тем, что скрывает назначение полей, должна <span class=SpellE>отсуствовать</span>.</p>

<p class=Body><o:p>&nbsp;</o:p></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>// AVOID<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public interface
Something { <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>Pair&lt;String, <span class=SpellE>SomethingDatum</span>&gt;
<span class=SpellE>doSomething</span>();<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>// PREFER<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>public interface
Something { <o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span><span class=SpellE>IndexedSomethingDatum</span>
<span class=SpellE>doSomething</span>();<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=DE style='mso-ansi-language:DE'>@Data</span><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>class <span
class=SpellE>IndexedSomethingDatum</span> {<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>private String index;<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>    </span>private <span class=SpellE>SomethingDatum</span>
datum;<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>}<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>8. <span
class=SpellE>Checkstyle</span>.<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>1. </span>Берем<span
style='mso-ansi-language:EN-US'> <span lang=EN-US>checkstyle.xml<o:p></o:p></span></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>2. </span>Далее<span
style='mso-ansi-language:EN-US'> </span>открываем<span style='mso-ansi-language:
EN-US'> </span><span lang=ES-TRAD style='mso-ansi-language:ES-TRAD'>IDE </span>и<span
style='mso-ansi-language:EN-US'> </span>идем<span lang=EN-US style='mso-ansi-language:
EN-US'> File-&gt;Settings-&gt;<span class=SpellE>Plugins</span>.<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>3. </span>Ставим<span
style='mso-ansi-language:EN-US'> </span><span class=SpellE>плагин</span><span
style='mso-ansi-language:EN-US'> <span class=SpellE><span lang=EN-US>CheckStyle</span></span><span
lang=EN-US>-IDEA<o:p></o:p></span></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>4. </span>Далее<span
lang=EN-US style='mso-ansi-language:EN-US'> File-&gt;Settings-&gt;Code
Style-&gt;Java<o:p></o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=Body><span lang=EN-US style='mso-ansi-language:EN-US'>5. </span>Нажимаем<span
style='mso-ansi-language:EN-US'> </span>на<span style='mso-ansi-language:EN-US'>
</span>шестеренку<span style='mso-ansi-language:EN-US'> <span lang=EN-US>-&gt;
Import Scheme -&gt; <span class=SpellE>Checkstyle</span> Configuration<o:p></o:p></span></span></p>

</div>

</body>

</html>
